{
    "docs": [
        {
            "location": "/", 
            "text": "WTFJS\n\n\n\u4ec0\u4e48\u662f\u540a\u9e21\u4e1d\n\n\n\n\n\n\n\n\n\u6709\u8da3\u548c\u68d8\u624b\u7684JavaScript\u793a\u4f8b\u5217\u8868\n\n\n\n\nJavaScript\u662f\u4e00\u95e8\u4f1f\u5927\u7684\u8bed\u8a00\u3002\n\u5b83\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u8bed\u6cd5\uff0c\u5e9e\u5927\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u6700\u91cd\u8981\u7684\u662f\u4e00\u4e2a\u4f1f\u5927\u7684\u793e\u533a\u3002\n\n\n\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u90fd\u77e5\u9053JavaScript\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u8da3\u7684\u8bed\u8a00\uff0c\u5b83\u6709\u68d8\u624b\u7684\u90e8\u5206\u3002\n\u4ed6\u4eec\u4e2d\u7684\u4e00\u4e9b\u4eba\u53ef\u4ee5\u8fc5\u901f\u5c06\u6211\u4eec\u7684\u65e5\u5e38\u5de5\u4f5c\u53d8\u6210\u5730\u72f1\uff0c\u5176\u4e2d\u4e00\u4e9b\u53ef\u4ee5\u8ba9\u6211\u4eec\u5927\u58f0\u7b11\u51fa\u58f0\u6765\u3002\n\n\nWTFJS\u6700\u521d\u7684\u60f3\u6cd5\u5c5e\u4e8e\nBrian Leroux\n.\n\u8fd9\u4efd\u540d\u5355\u53d7\u5230\u4e86\u4ed6\u7684\u6f14\u8bb2\n 2012\u5e74dotJS\u4e0a\u7684\u201cWTFJS\u201d\n\u7684\u542f\u53d1:\n\n\n\n\nNode\u5305\u88c5\u624b\u7a3f\n\n\n\u4f60\u53ef\u4ee5\u4f7f\u7528\nnpm\n\u6765\u5b89\u88c5\u8fd9\u672c\u624b\u518c\u3002\n\u53ea\u8981\u8fd0\u884c:\n\n\n$ npm install -g wtfjs\n\n\n\n\n\u4f60\u73b0\u5728\u5e94\u8be5\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u8fd0\u884c\nwtfjs\n\u3002\n\u8fd9\u5c06\u5728\u60a8\u9009\u62e9\u7684\n$PAGER\n\u4e2d\u6253\u5f00\u624b\u518c\u3002\n\u5426\u5219\uff0c\u4f60\u53ef\u4ee5\u7ee7\u7eed\u5728\u8fd9\u91cc\u9605\u8bfb\u3002\n\n\n\u6765\u6e90\u53ef\u5728\u8fd9\u91cc\u627e\u5230\uff1a \nhttps://github.com/denysdovhan/wtfjs\n\n\n\n\n\n\n\n\n\u76ee\u5f55\n\n\n\n\n\ud83d\udcaa\ud83c\udffb Motivation\n\n\n\u270d\ud83c\udffb Notation\n\n\n\ud83d\udc40 Examples\n\n\n[]\n is equal \n![]\n\n\ntrue is false\n\n\nbaNaNa\n\n\nNaN\n is not a \nNaN\n\n\nIt's a fail\n\n\n[]\n is truthy, but not \ntrue\n\n\nnull\n is falsy, but not \nfalse\n\n\ndocument.all\n is an object, but it is undefined\n\n\nMinimal value is greater than zero\n\n\nfunction is not a function\n\n\nAdding arrays\n\n\nTrailing commas in array\n\n\nArray equality is a monster\n\n\nundefined\n and \nNumber\n\n\nparseInt\n is a bad guy\n\n\nMath with \ntrue\n and \nfalse\n\n\nHTML comments are valid in JavaScript\n\n\nNaN\n is ~~not~~ a number\n\n\n[]\n and \nnull\n are objects\n\n\nMagically increasing numbers\n\n\nPrecision of \n0.1 + 0.2\n\n\nPatching numbers\n\n\nComparison of three numbers\n\n\nFunny math\n\n\nAddition of RegExps\n\n\nStrings aren't instances of \nString\n\n\nCalling functions with backticks\n\n\nCall call call\n\n\nA \nconstructor\n property\n\n\nObject as a key of object's property\n\n\nAccessing prototypes with \n__proto__\n\n\n`${{Object}}`\n\n\nDestructuring with default values\n\n\nDots and spreading\n\n\nLabels\n\n\nNested labels\n\n\nInsidious \ntry..catch\n\n\nIs this multiple inheritance?\n\n\nA generator which yields itself\n\n\nA class of class\n\n\nNon-coercible objects\n\n\nTricky arrow functions\n\n\narguments\n and arrow functions\n\n\nTricky return\n\n\nAccessing object properties with arrays\n\n\nMath.max()\n less than \nMath.min()\n\n\nNull and Relational Operators\n\n\nNumber.toFixed()\n display different numbers\n\n\nComparing \nnull\n to \n0\n\n\nSame variable redeclaration\n\n\nOther resources\n\n\n\ud83c\udf93 License\n\n\n\n\n\n\n\n\ud83d\udcaa\ud83c\udffb \u52a8\u673a\n\n\n\n\n\u53ea\u662f\u4e3a\u4e86\u597d\u73a9\n\n\n \n\u201c\u53ea\u662f\u4e3a\u4e86\u597d\u73a9: \u4e00\u4e2a\u610f\u5916\u9769\u547d\u5bb6\u7684\u6545\u4e8b\u201d\n, Linus Torvalds\n\n\n\n\n\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u8fd9\u4e2a\u6e05\u5355\u7684\u4e3b\u8981\u76ee\u6807\u662f\u6536\u96c6\u4e00\u4e9b\u75af\u72c2\u7684\u4f8b\u5b50\u5e76\u89e3\u91ca\u5b83\u4eec\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\n\u53ea\u662f\u56e0\u4e3a\u5b66\u4e60\u4e4b\u524d\u6211\u4eec\u4e0d\u77e5\u9053\u7684\u4e1c\u897f\u5f88\u6709\u8da3\u3002\n\n\n\u5982\u679c\u60a8\u662f\u521d\u5b66\u8005\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u7b14\u8bb0\u6df1\u5165\u4e86\u89e3JavaScript\u3002\n\u6211\u5e0c\u671b\u8fd9\u4e9b\u7b14\u8bb0\u80fd\u6fc0\u52b1\u4f60\u82b1\u66f4\u591a\u7684\u65f6\u95f4\u9605\u8bfb\u89c4\u8303\u3002\n\n\n\u5982\u679c\u60a8\u662f\u4e13\u4e1a\u5f00\u53d1\u4eba\u5458\uff0c \u60a8\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u793a\u4f8b\u4f5c\u4e3a\u6211\u4eec\u5fc3\u7231\u7684JavaScript\u7684\u6240\u6709\u602a\u7656\u548c\u610f\u60f3\u4e0d\u5230\u7684\u8fb9\u7f18\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u53c2\u8003\u3002\n\n\n\u65e0\u8bba\u5982\u4f55\uff0c\u53ea\u8981\u9605\u8bfb\u8fd9\u4e2a\u3002\n\u4f60\u53ef\u80fd\u4f1a\u627e\u5230\u65b0\u7684\u4e1c\u897f\u3002\n\n\n\u270d\ud83c\udffb \u7b26\u53f7\n\n\n// -\n \u7528\u4e8e\u663e\u793a\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002\n\n\n\u4f8b\u5982:\n\n\n1\n \n+\n \n1\n \n// -\n 2\n\n\n\n\n\n// \n \u610f\u5473\u7740\nconsole.log\n\u6216\u5176\u4ed6\u8f93\u51fa\u7684\u7ed3\u679c\u3002\n\n\n\u4f8b\u5982:\n\n\nconsole\n.\nlog\n(\nhello, world!\n)\n \n// \n hello, world!\n\n\n\n\n\n//\n \u53ea\u662f\u7528\u4e8e\u89e3\u91ca\u7684\u8bc4\u8bba\n\n\n\u4f8b:\n\n\n// Assigning a function to foo constant\n\n\nconst\n \nfoo\n \n=\n \nfunction\n \n()\n \n{}\n\n\n\n\n\n\u5176\u4ed6\u8d44\u6e90\n\n\n\n\nwtfjs.com\n \u2014 \u4e00\u7cfb\u5217\u975e\u5e38\u7279\u6b8a\u7684\u8fdd\u89c4\u884c\u4e3a\uff0c\u4e0d\u4e00\u81f4\u4ee5\u53ca\u7f51\u7edc\u8bed\u8a00\u7684\u7b80\u5355\u75db\u82e6\u4e0d\u76f4\u89c2\u7684\u65f6\u523b\u3002\n\n\nWat\n \u2014 \u6765\u81eaCodeMash 2012\u7684Gary Bernhardt\u95ea\u7535\u8c08\u8bdd\n\n\nWhat the...JavaScript?\n \u2014 Kyle Simpsons\u8c08\u8bbaForward 2\u5c1d\u8bd5\u4eceJavaScript\u4e2d\u201c\u62bd\u51fa\u75af\u72c2\u201d\u3002\u4ed6\u5e0c\u671b\u5e2e\u52a9\u60a8\u751f\u6210\u66f4\u5e72\u51c0\uff0c\u66f4\u4f18\u96c5\uff0c\u66f4\u6613\u8bfb\u7684\u4ee3\u7801\uff0c\u7136\u540e\u6fc0\u52b1\u4eba\u4eec\u4e3a\u5f00\u6e90\u793e\u533a\u505a\u51fa\u8d21\u732e\u3002\n\n\n\n\n\ud83c\udf93 \u8bc1\u4e66\n\n\n\n\n \nDenys Dovhan", 
            "title": "\u9996\u9875"
        }, 
        {
            "location": "/#wtfjs", 
            "text": "", 
            "title": "WTFJS"
        }, 
        {
            "location": "/#_1", 
            "text": "\u6709\u8da3\u548c\u68d8\u624b\u7684JavaScript\u793a\u4f8b\u5217\u8868   JavaScript\u662f\u4e00\u95e8\u4f1f\u5927\u7684\u8bed\u8a00\u3002\n\u5b83\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u8bed\u6cd5\uff0c\u5e9e\u5927\u7684\u751f\u6001\u7cfb\u7edf\uff0c\u6700\u91cd\u8981\u7684\u662f\u4e00\u4e2a\u4f1f\u5927\u7684\u793e\u533a\u3002  \u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u90fd\u77e5\u9053JavaScript\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u8da3\u7684\u8bed\u8a00\uff0c\u5b83\u6709\u68d8\u624b\u7684\u90e8\u5206\u3002\n\u4ed6\u4eec\u4e2d\u7684\u4e00\u4e9b\u4eba\u53ef\u4ee5\u8fc5\u901f\u5c06\u6211\u4eec\u7684\u65e5\u5e38\u5de5\u4f5c\u53d8\u6210\u5730\u72f1\uff0c\u5176\u4e2d\u4e00\u4e9b\u53ef\u4ee5\u8ba9\u6211\u4eec\u5927\u58f0\u7b11\u51fa\u58f0\u6765\u3002  WTFJS\u6700\u521d\u7684\u60f3\u6cd5\u5c5e\u4e8e Brian Leroux .\n\u8fd9\u4efd\u540d\u5355\u53d7\u5230\u4e86\u4ed6\u7684\u6f14\u8bb2  2012\u5e74dotJS\u4e0a\u7684\u201cWTFJS\u201d \u7684\u542f\u53d1:", 
            "title": "\u4ec0\u4e48\u662f\u540a\u9e21\u4e1d"
        }, 
        {
            "location": "/#node", 
            "text": "\u4f60\u53ef\u4ee5\u4f7f\u7528 npm \u6765\u5b89\u88c5\u8fd9\u672c\u624b\u518c\u3002\n\u53ea\u8981\u8fd0\u884c:  $ npm install -g wtfjs  \u4f60\u73b0\u5728\u5e94\u8be5\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u8fd0\u884c wtfjs \u3002\n\u8fd9\u5c06\u5728\u60a8\u9009\u62e9\u7684 $PAGER \u4e2d\u6253\u5f00\u624b\u518c\u3002\n\u5426\u5219\uff0c\u4f60\u53ef\u4ee5\u7ee7\u7eed\u5728\u8fd9\u91cc\u9605\u8bfb\u3002  \u6765\u6e90\u53ef\u5728\u8fd9\u91cc\u627e\u5230\uff1a  https://github.com/denysdovhan/wtfjs", 
            "title": "Node\u5305\u88c5\u624b\u7a3f"
        }, 
        {
            "location": "/#_2", 
            "text": "\ud83d\udcaa\ud83c\udffb Motivation  \u270d\ud83c\udffb Notation  \ud83d\udc40 Examples  []  is equal  ![]  true is false  baNaNa  NaN  is not a  NaN  It's a fail  []  is truthy, but not  true  null  is falsy, but not  false  document.all  is an object, but it is undefined  Minimal value is greater than zero  function is not a function  Adding arrays  Trailing commas in array  Array equality is a monster  undefined  and  Number  parseInt  is a bad guy  Math with  true  and  false  HTML comments are valid in JavaScript  NaN  is ~~not~~ a number  []  and  null  are objects  Magically increasing numbers  Precision of  0.1 + 0.2  Patching numbers  Comparison of three numbers  Funny math  Addition of RegExps  Strings aren't instances of  String  Calling functions with backticks  Call call call  A  constructor  property  Object as a key of object's property  Accessing prototypes with  __proto__  `${{Object}}`  Destructuring with default values  Dots and spreading  Labels  Nested labels  Insidious  try..catch  Is this multiple inheritance?  A generator which yields itself  A class of class  Non-coercible objects  Tricky arrow functions  arguments  and arrow functions  Tricky return  Accessing object properties with arrays  Math.max()  less than  Math.min()  Null and Relational Operators  Number.toFixed()  display different numbers  Comparing  null  to  0  Same variable redeclaration  Other resources  \ud83c\udf93 License", 
            "title": "\u76ee\u5f55"
        }, 
        {
            "location": "/#_3", 
            "text": "\u53ea\u662f\u4e3a\u4e86\u597d\u73a9    \u201c\u53ea\u662f\u4e3a\u4e86\u597d\u73a9: \u4e00\u4e2a\u610f\u5916\u9769\u547d\u5bb6\u7684\u6545\u4e8b\u201d , Linus Torvalds   \u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u8fd9\u4e2a\u6e05\u5355\u7684\u4e3b\u8981\u76ee\u6807\u662f\u6536\u96c6\u4e00\u4e9b\u75af\u72c2\u7684\u4f8b\u5b50\u5e76\u89e3\u91ca\u5b83\u4eec\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\n\u53ea\u662f\u56e0\u4e3a\u5b66\u4e60\u4e4b\u524d\u6211\u4eec\u4e0d\u77e5\u9053\u7684\u4e1c\u897f\u5f88\u6709\u8da3\u3002  \u5982\u679c\u60a8\u662f\u521d\u5b66\u8005\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u7b14\u8bb0\u6df1\u5165\u4e86\u89e3JavaScript\u3002\n\u6211\u5e0c\u671b\u8fd9\u4e9b\u7b14\u8bb0\u80fd\u6fc0\u52b1\u4f60\u82b1\u66f4\u591a\u7684\u65f6\u95f4\u9605\u8bfb\u89c4\u8303\u3002  \u5982\u679c\u60a8\u662f\u4e13\u4e1a\u5f00\u53d1\u4eba\u5458\uff0c \u60a8\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u793a\u4f8b\u4f5c\u4e3a\u6211\u4eec\u5fc3\u7231\u7684JavaScript\u7684\u6240\u6709\u602a\u7656\u548c\u610f\u60f3\u4e0d\u5230\u7684\u8fb9\u7f18\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u53c2\u8003\u3002  \u65e0\u8bba\u5982\u4f55\uff0c\u53ea\u8981\u9605\u8bfb\u8fd9\u4e2a\u3002\n\u4f60\u53ef\u80fd\u4f1a\u627e\u5230\u65b0\u7684\u4e1c\u897f\u3002", 
            "title": "\ud83d\udcaa\ud83c\udffb \u52a8\u673a"
        }, 
        {
            "location": "/#_4", 
            "text": "// -  \u7528\u4e8e\u663e\u793a\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002  \u4f8b\u5982:  1   +   1   // -  2   //   \u610f\u5473\u7740 console.log \u6216\u5176\u4ed6\u8f93\u51fa\u7684\u7ed3\u679c\u3002  \u4f8b\u5982:  console . log ( hello, world! )   //   hello, world!   //  \u53ea\u662f\u7528\u4e8e\u89e3\u91ca\u7684\u8bc4\u8bba  \u4f8b:  // Assigning a function to foo constant  const   foo   =   function   ()   {}", 
            "title": "\u270d\ud83c\udffb \u7b26\u53f7"
        }, 
        {
            "location": "/#_5", 
            "text": "wtfjs.com  \u2014 \u4e00\u7cfb\u5217\u975e\u5e38\u7279\u6b8a\u7684\u8fdd\u89c4\u884c\u4e3a\uff0c\u4e0d\u4e00\u81f4\u4ee5\u53ca\u7f51\u7edc\u8bed\u8a00\u7684\u7b80\u5355\u75db\u82e6\u4e0d\u76f4\u89c2\u7684\u65f6\u523b\u3002  Wat  \u2014 \u6765\u81eaCodeMash 2012\u7684Gary Bernhardt\u95ea\u7535\u8c08\u8bdd  What the...JavaScript?  \u2014 Kyle Simpsons\u8c08\u8bbaForward 2\u5c1d\u8bd5\u4eceJavaScript\u4e2d\u201c\u62bd\u51fa\u75af\u72c2\u201d\u3002\u4ed6\u5e0c\u671b\u5e2e\u52a9\u60a8\u751f\u6210\u66f4\u5e72\u51c0\uff0c\u66f4\u4f18\u96c5\uff0c\u66f4\u6613\u8bfb\u7684\u4ee3\u7801\uff0c\u7136\u540e\u6fc0\u52b1\u4eba\u4eec\u4e3a\u5f00\u6e90\u793e\u533a\u505a\u51fa\u8d21\u732e\u3002", 
            "title": "\u5176\u4ed6\u8d44\u6e90"
        }, 
        {
            "location": "/#_6", 
            "text": "Denys Dovhan", 
            "title": "\ud83c\udf93 \u8bc1\u4e66"
        }, 
        {
            "location": "/wtfjs/", 
            "text": "\ud83d\udc40 \u5c4c\u4e1d\u5217\u8868\n\n\n[]\n \u7b49\u4e8e \n![]\n\n\n\u6570\u7ec4\u4e0d\u7b49\u4e8e\u6570\u7ec4\n\n\n[]\n \n==\n \n!\n[]\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u62bd\u8c61\u76f8\u7b49\u8fd0\u7b97\u7b26\u5c06\u53cc\u65b9\u8f6c\u6362\u4e3a\u6570\u5b57\u8fdb\u884c\u6bd4\u8f83\uff0c\u53cc\u65b9\u7531\u4e8e\u4e0d\u540c\u7684\u539f\u56e0\u6210\u4e3a\u6570\u5b57\u201c0\u201d\u3002\n\u6570\u7ec4\u662f\u771f\u7684, \u6240\u4ee5\u5728\u53f3\u8fb9, \u4e0e\u771f\u503c\u76f8\u53cd\u7684\u662f\nfalse\n, \u7136\u540e\u88ab\u5f3a\u5236\n0\n.\n\u5728\u5de6\u8fb9, \u7136\u800c, \u4e00\u4e2a\u7a7a\u6570\u7ec4\u88ab\u5f3a\u5236\u4e3a\u4e00\u4e2a\u6570\u5b57\uff0c\u800c\u4e0d\u662f\u5148\u6210\u4e3a\u5e03\u5c14\u503c, \u5e76\u4e14\u7a7a\u9635\u5217\u88ab\u5f3a\u5236\n0\n, \u5c3d\u7ba1\u662f\u771f\u7684.\n\u8fd9\u662f\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5982\u4f55\u7b80\u5316\n+\n[]\n \n==\n \n+!\n[]\n\n\n0\n \n==\n \n+\nfalse\n\n\n0\n \n==\n \n0\n\n\ntrue\n\n\n\n\n\u4e5f\u53ef\u4ee5\u770b\u770b\n[]\n \u662f\u771f\u7684, \u4f46\u4e0d\u662f\ntrue\n.\n12.5.9\n \u903b\u8f91NOT\u8fd0\u7b97\u7b26 (\n!\n)\n7.2.13\n \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83\ntrue \u662f false\n\n\n!!\nfalse\n \n==\n  \n!!\ntrue\n  \n// -\n true\n\n\n!!\nfalse\n \n===\n \n!!\ntrue\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u8003\u8651\u8fd9\u4e00\u6b65\u4e00\u6b65\uff1a\n// true is \ntruthy\n and represented by value 1 (number), \ntrue\n in string form is NaN.\n\n\ntrue\n \n==\n \ntrue\n    \n// -\n false\n\n\nfalse\n \n==\n \nfalse\n  \n// -\n false\n\n\n\n// \nfalse\n is not the empty string, so it\ns a truthy value\n\n\n!!\nfalse\n \n// -\n true\n\n\n!!\ntrue\n  \n// -\n true\n\n\n\n\n7.2.13\n \u62bd\u8c61\u5e73\u7b49\u6bd4\u8f83\nbaNaNa\n\n\nb\n \n+\n \na\n \n+\n \n+\n \na\n \n+\n \na\n\n\n\n\n\n\u8fd9\u662fJavaScript\u4e2d\u7684\u4e00\u4e2a\u8001\u6d3e\u73a9\u7b11\uff0c\u4f46\u91cd\u65b0\u4fee\u590d\u3002\n\u8fd9\u662f\u539f\u6765\u7684\u4e00\u4e2a\uff1a\n\n\nfoo\n \n+\n \n+\n \nbar\n \n// -\n \nfooNaN\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe expression is evaluated as \n'foo' + (+'bar')\n, which converts \n'bar'\n to not a number.\n12.8.3\n The Addition Operator (\n+\n)\n12.5.6 Unary + Operator\nNaN\n is not a \nNaN\n\n\nNaN\n \n===\n \nNaN\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u89c4\u8303\u4e25\u683c\u5b9a\u4e49\u4e86\u8fd9\u79cd\u884c\u4e3a\u80cc\u540e\u7684\u903b\u8f91\uff1a\nIf \nType(x)\n is different from \nType(y)\n, return \nfalse\n.\nIf \nType(x)\n is Number, then\nIf \nx\n is \nNaN\n, return \nfalse\n.\nIf \ny\n is \nNaN\n, return \nfalse\n.\n\u2026 \u2026 \u2026\n \n7.2.14\n Strict Equality Comparison\n\u9075\u5faaIEEE\u7684\u201cNaN\u201d\u5b9a\u4e49\uff1a\n\u56db\u79cd\u76f8\u4e92\u6392\u65a5\u7684\u5173\u7cfb\u662f\u53ef\u80fd\u7684: \u5c11\u4e8e, \u7b49\u4e8e, \u5927\u4e8e\uff0c\u65e0\u5e8f.\u6700\u540e\u4e00\u79cd\u60c5\u51b5\u51fa\u73b0\u5728\u81f3\u5c11\u4e00\u4e2a\u64cd\u4f5c\u6570\u662fNaN\u7684\u60c5\u51b5\u4e0b\u3002\u6bcf\u4e2aNaN\u90fd\u4f1a\u5c06\u65e0\u5e8f\u4e0e\u5305\u62ec\u5b83\u81ea\u5df1\u5728\u5185\u7684\u6240\u6709\u4e8b\u7269\u8fdb\u884c\u6bd4\u8f83\u3002\n \n\u201cIEEE754 NaN\u503c\u8fd4\u56defalse\u7684\u6240\u6709\u6bd4\u8f83\u7684\u57fa\u672c\u539f\u7406\u662f\u4ec0\u4e48\uff1f\u201d\n at StackOverflow\n\u8fd9\u662f\u4e00\u4e2a\u5931\u8d25\n\n\n\u4f60\u4e0d\u4f1a\u76f8\u4fe1\uff0c\u4f46...\n\n\n(\n!\n[]\n+\n[])[\n+\n[]]\n+\n(\n!\n[]\n+\n[])[\n+!+\n[]]\n+\n([\n!\n[]]\n+\n[][[]])[\n+!+\n[]\n+\n[\n+\n[]]]\n+\n(\n!\n[]\n+\n[])[\n!+\n[]\n+!+\n[]]\n\n\n// -\n \nfail\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nBy breaking that mass of symbols into pieces, we notice that the following pattern occurs often:\n(\n!\n[]\n+\n[])\n \n// -\n \nfalse\n\n\n!\n[]\n      \n// -\n false\n\n\n\n\nSo we try adding \n[]\n to \nfalse\n.\nBut due to a number of internal function calls (\nbinary + Operator\n -\n \nToPrimitive\n -\n \n[[DefaultValue]]\n) we end up converting the right operand to a string:\n(\n!\n[]\n+\n[].\ntoString\n())\n \n// \nfalse\n\n\n\n\nThinking of a string as an array we can access its first character via \n[0]\n:\nfalse\n[\n0\n]\n \n// -\n \nf\n\n\n\n\nThe rest is obvious, but the \ni\n is tricky.\nThe \ni\n in \nfail\n is grabbed by generating the string \n'falseundefined'\n and grabbing the element on index \n['10']\n[]\n \u662f\u771f\u7684, \u4f46\u4e0d\u662f\ntrue\n\n\n\u4e00\u4e2a\u6570\u7ec4\u662f\u4e00\u4e2a\u771f\u503c\uff0c\u7136\u800c\uff0c\u5b83\u4e0d\u7b49\u4e8e\ntrue\n\u3002\n\n\n!!\n[]\n       \n// -\n true\n\n\n[]\n \n==\n \ntrue\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u4ee5\u4e0b\u662fECMA-262\u89c4\u8303\u4e2d\u76f8\u5e94\u7ae0\u8282\u7684\u94fe\u63a5\uff1a\n12.5.9\n \u903b\u8f91NOT\u8fd0\u7b97\u7b26 (\n!\n)\n7.2.13\n \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83\nnull\n\u662f\u5047\u7684, \u4f46\u4e0d\u662f\nfalse\n\n\n\u5c3d\u7ba1\nnull\n\u662f\u4e00\u4e2a\u865a\u5047\u503c\uff0c\u5b83\u4e0d\u7b49\u4e8e\nfalse\n\u3002\n\n\n!!\nnull\n        \n// -\n false\n\n\nnull\n \n==\n \nfalse\n \n// -\n false\n\n\n\n\n\n\u540c\u65f6\uff0c\u5176\u4ed6\u7684\u5047\u503c\uff0c\u5982\n0\n\u6216\n''\n\u7b49\u4e8e\nfalse\n\u3002\n\n\n0\n \n==\n \nfalse\n  \n// -\n true\n\n\n \n==\n \nfalse\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u89e3\u91ca\u4e0e\u524d\u9762\u7684\u4f8b\u5b50\u76f8\u540c\u3002\n\u4ee5\u4e0b\u662f\u76f8\u5e94\u7684\u94fe\u63a5\uff1a\n7.2.13\n \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83\ndocument.all\n \u662f\nObject\n, \u4f46\u5b83\u662f\nundefined\n\n\n\n\n\u26a0\ufe0f \u8fd9\u662f\u6d4f\u89c8\u5668API\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u80fd\u5728Node.js\u73af\u5883\u4e2d\u4f7f\u7528 \u26a0\ufe0f\n\n\n\n\n\u5c3d\u7ba1\ndocument.all\n\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u8bbf\u95ee\u9875\u9762\u4e2d\u7684DOM\u8282\u70b9, \u4f7f\u7528\ntypeof\n\u51fd\u6570\u65f6\u8fd4\u56de\nundefined\n.\n\n\ndocument\n.\nall\n \ninstanceof\n \nObject\n \n// -\n true\n\n\ntypeof\n \ndocument\n.\nall\n \n// -\n \nundefined\n\n\n\n\n\n\u540c\u65f6\uff0c\ndocument.all\n\u4e0d\u7b49\u4e8e\nundefined\n\u3002\n\n\ndocument\n.\nall\n \n===\n \nundefined\n \n// -\n false\n\n\ndocument\n.\nall\n \n===\n \nnull\n \n// -\n false\n\n\n\n\n\n\u4f46\u5728\u540c\u65f6\uff1a\n\n\ndocument\n.\nall\n \n==\n \nnull\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\ndocument.all\n used to be a way to access DOM elements, in particular with old versions of IE.\nWhile it has never been a standard it was broadly used in the old age JS code.\nWhen the standard progressed with new APIs (such as \ndocument.getElementById\n) this API call became obsolete and the standard commitee had to decide what to do with it.\nBecause of its broad use they decided to keep the API but introduce a willful violation of the JavaScript specification.\nThe reason why it responds to \nfalse\n when using the \nStrict Equality Comparison\n with \nundefined\n while \ntrue\n when using the \nAbstract Equality Comparison\n is due to the willful violation of the specification that explicitly allows that.\n \n\u201cObsolete features - document.all\u201d\n at WhatWG - HTML spec\n\n \n\u201cChapter 4 - ToBoolean - Falsy values\u201d\n at YDKJS - Types \n Grammar\n\u6700\u5c0f\u503c\u5927\u4e8e\u96f6\n\n\nNumber.MIN_VALUE\n\u662f\u6700\u5c0f\u7684\u6570\u5b57, \u8fd9\u5927\u4e8e\u96f6:\n\n\nNumber\n.\nMIN_VALUE\n \n \n0\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nNumber.MIN_VALUE\n is \n5e-324\n, i.e. the smallest positive number that can be represented within float precision, i.e. that's as close as you can get to zero. It defines the best resolution that floats can give you.\nNow the overall smallest value is \nNumber.NEGATIVE_INFINITY\n although it's not really numeric in a strict sense.\n \n\u201cWhy is \n0\n less than \nNumber.MIN_VALUE\n in JavaScript?\u201d\n at StackOverflow\n20.1.2.9\n Number.MIN_VALUE\n\u51fd\u6570\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\n\n\n\n\n\u26a0\ufe0f V8 v5.5\u6216\u66f4\u4f4e\u7248\u672c\u4e2d\u5b58\u5728\u7684\u9519\u8bef\uff08Node.js \n= 7\uff09 \u26a0\ufe0f\n\n\n\n\n\u4f60\u4eec\u6240\u6709\u4eba\u90fd\u77e5\u9053\u70e6\u4eba\u7684 \nundefined\n\u4e0d\u662f\u51fd\u6570\n \uff0c\u4f46\u662f\u8fd9\u4e2a\u600e\u4e48\u6837\uff1f\n\n\n// \u58f0\u660e\u4e00\u4e2a\u6269\u5c55null\u7684\u7c7b\n\n\nclass\n \nFoo\n \nextends\n \nnull\n \n{}\n\n\n// -\n [Function: Foo]\n\n\n\nnew\n \nFoo\n \ninstanceof\n \nnull\n\n\n// \n TypeError\uff1a\u51fd\u6570\u4e0d\u662f\u51fd\u6570\n\n\n// \n     at \u2026 \u2026 \u2026\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u8fd9\u4e0d\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\u3002\n\u8fd9\u53ea\u662f\u4e00\u4e2a\u73b0\u5728\u5df2\u7ecf\u4fee\u590d\u7684\u9519\u8bef\uff0c\u6240\u4ee5\u5728\u5c06\u6765\u4e0d\u5e94\u8be5\u6709\u95ee\u9898\u3002\n\u6dfb\u52a0\u6570\u7ec4\n\n\n\u5982\u679c\u4f60\u5c1d\u8bd5\u6dfb\u52a0\u4e24\u4e2a\u6570\u7ec4\u5462\uff1f\n\n\n[\n1\n,\n \n2\n,\n \n3\n]\n \n+\n \n[\n4\n,\n \n5\n,\n \n6\n]\n  \n// -\n \n1,2,34,5,6\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u4e32\u63a5\u53d1\u751f\u3002\n\u4e00\u6b65\u4e00\u6b65\uff0c\u5b83\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a\n[\n1\n,\n \n2\n,\n \n3\n]\n \n+\n \n[\n4\n,\n \n5\n,\n \n6\n]\n\n\n// call toString()\n\n\n[\n1\n,\n \n2\n,\n \n3\n].\ntoString\n()\n \n+\n \n[\n4\n,\n \n5\n,\n \n6\n].\ntoString\n()\n\n\n// concatenation\n\n\n1,2,3\n \n+\n \n4,5,6\n\n\n// -\n\n\n1,2,34,5,6\n\n\n\n\n\u6570\u7ec4\u4e2d\u7684\u5c3e\u968f\u9017\u53f7\n\n\n\u4f60\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u67094\u4e2a\u7a7a\u5143\u7d20\u7684\u6570\u7ec4\n\u5c3d\u7ba1\u5982\u6b64\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u5305\u542b\u4e09\u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u56e0\u4e3a\u5c3e\u968f\u9017\u53f7\uff1a\n\n\nlet\n \na\n \n=\n \n[,,,]\n\n\na\n.\nlength\n     \n// -\n 3\n\n\na\n.\ntoString\n()\n \n// -\n \n,,\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nTrailing commas\n (sometimes called \"final commas\") can be useful when adding new elements, parameters, or properties to JavaScript code.\nIf you want to add a new property, you can simply add a new line without modifying the previously last line if that line already uses a trailing comma.\nThis makes version-control diffs cleaner and editing code might be less troublesome.\n \nTrailing commas\n at MDN\n\u6570\u7ec4\u76f8\u7b49\u662f\u4e00\u4e2a\u602a\u7269\n\n\n\u6570\u7ec4\u76f8\u7b49\u662fJS\u4e2d\u7684\u602a\u7269\uff0c\u5982\u4e0b\u6240\u793a\uff1a\n\n\n[]\n \n==\n \n   \n// -\n true\n\n\n[]\n \n==\n \n0\n    \n// -\n true\n\n\n[\n]\n \n==\n \n \n// -\n true\n\n\n[\n0\n]\n \n==\n \n0\n   \n// -\n true\n\n\n[\n0\n]\n \n==\n \n  \n// -\n false\n\n\n[\n]\n \n==\n \n0\n  \n// -\n true\n\n\n\n[\nnull\n]\n \n==\n \n      \n// true\n\n\n[\nnull\n]\n \n==\n \n0\n       \n// true\n\n\n[\nundefined\n]\n \n==\n \n \n// true\n\n\n[\nundefined\n]\n \n==\n \n0\n  \n// true\n\n\n\n[[]]\n \n==\n \n0\n  \n// true\n\n\n[[]]\n \n==\n \n \n// true\n\n\n\n[[[[[[]]]]]]\n \n==\n \n \n// true\n\n\n[[[[[[]]]]]]\n \n==\n \n0\n  \n// true\n\n\n\n[[[[[[\n \nnull\n \n]]]]]]\n \n==\n \n0\n  \n// true\n\n\n[[[[[[\n \nnull\n \n]]]]]]\n \n==\n \n \n// true\n\n\n\n[[[[[[\n \nundefined\n \n]]]]]]\n \n==\n \n0\n  \n// true\n\n\n[[[[[[\n \nundefined\n \n]]]]]]\n \n==\n \n \n// true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u4f60\u5e94\u8be5\u4ed4\u7ec6\u89c2\u5bdf\u4e0a\u9762\u7684\u4f8b\u5b50\uff01\n\u8be5\u89c4\u8303\u7684\n 7.2.13 \n Abstract Equality Comparison\n\u90e8\u200b\u200b\u5206\u63cf\u8ff0\u4e86\u8be5\u884c\u4e3a\u3002\nundefined\n \u548c \nNumber\n\n\n\u5982\u679c\u6211\u4eec\u4e0d\u5c06\u4efb\u4f55\u53c2\u6570\u4f20\u9012\u7ed9\nNumber\n\u6784\u9020\u51fd\u6570\uff0c\u6211\u4eec\u5c31\u4f1a\u5f97\u5230\n0\n\u3002\n\u5f53\u6ca1\u6709\u5b9e\u9645\u53c2\u6570\u65f6\nundefined\n\u88ab\u8d4b\u503c\u7ed9\u5f62\u5f0f\u53c2\u6570, \u6240\u4ee5\u4f60\u53ef\u80fd\u671f\u671b\u6ca1\u6709\u53c2\u6570\u7684\nNumber\n\u5c06\nundefined\n\u4f5c\u4e3a\u5176\u53c2\u6570\u7684\u503c\u3002\n\u4f46\u662f\uff0c\u5f53\u6211\u4eec\u4f20\u9012\nundefined\n\u65f6\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\nNaN\n\u3002\n\n\nNumber\n()\n          \n// -\n 0\n\n\nNumber\n(\nundefined\n)\n \n// -\n NaN\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u6839\u636e\u5177\u4f53\u60c5\u51b5:\n\u5982\u679c\u6ca1\u6709\u53c2\u6570\u4f20\u9012\u7ed9\u8fd9\u4e2a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u8ba9\nn\n\u4e3a\n+ 0\n\u3002\n\u5426\u5219\uff0c\u8ba9\nn\n\u6210\u4e3a ? \nToNumber(value)\n\u3002\nundefined\n\u7684\u60c5\u51b5\u4e0b, \nToNumber(undefined)\n\u5e94\u8be5\u8fd4\u56de\nNaN\n.\n\u8fd9\u662f\u76f8\u5e94\u7684\u90e8\u5206:\n20.1.1\n \u6570\u5b57\u6784\u9020\u5668\n7.1.3\n ToNumber(\nargument\n)\nparseInt\n\u662f\u4e2a\u574f\u4eba\n\n\nparseInt\n\u4ee5\u5176\u602a\u7656\u95fb\u540d\u4e8e\u4e16:\n\n\nparseInt\n(\nf*ck\n);\n     \n// -\n NaN\n\n\nparseInt\n(\nf*ck\n,\n \n16\n);\n \n// -\n 15\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a\nparseInt\n\u5c06\u7ee7\u7eed\u9010\u4e2a\u5b57\u7b26\u5730\u89e3\u6790\uff0c\u76f4\u5230\u9047\u5230\u4e00\u4e2a\u4e0d\u77e5\u9053\u7684\u5b57\u7b26\u3002\n\nf * ck\n\u4e2d\u7684\nf\n\u662f\u5341\u516d\u8fdb\u5236\u6570\u5b57\n15\n\u3002\n\u89e3\u6790\nInfinity\n\u4e3a\u6574\u6570\u662f...\n\n\n//\n\n\nparseInt\n(\nInfinity\n,\n \n10\n)\n \n// -\n NaN\n\n\n// ...\n\n\nparseInt\n(\nInfinity\n,\n \n18\n)\n \n// -\n NaN...\n\n\nparseInt\n(\nInfinity\n,\n \n19\n)\n \n// -\n 18\n\n\n// ...\n\n\nparseInt\n(\nInfinity\n,\n \n23\n)\n \n// -\n 18...\n\n\nparseInt\n(\nInfinity\n,\n \n24\n)\n \n// -\n 151176378\n\n\n// ...\n\n\nparseInt\n(\nInfinity\n,\n \n29\n)\n \n// -\n 385849803\n\n\nparseInt\n(\nInfinity\n,\n \n30\n)\n \n// -\n 13693557269\n\n\n// ...\n\n\nparseInt\n(\nInfinity\n,\n \n34\n)\n \n// -\n 28872273981\n\n\nparseInt\n(\nInfinity\n,\n \n35\n)\n \n// -\n 1201203301724\n\n\nparseInt\n(\nInfinity\n,\n \n36\n)\n \n// -\n 1461559270678...\n\n\nparseInt\n(\nInfinity\n,\n \n37\n)\n \n// -\n NaN\n\n\n\n\n\n\u89e3\u6790\nnull\n\u4e5f\u8981\u5c0f\u5fc3\uff1a\n\n\nparseInt\n(\nnull\n,\n \n24\n)\n \n// -\n 23\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u5b83\u5c06\nnull\n\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\n\"null\"\n\u5e76\u5c1d\u8bd5\u8f6c\u6362\u5b83\u3002\u5bf9\u4e8e\u57fa\u65700\u523023\uff0c\u6ca1\u6709\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u5b57\uff0c\u6240\u4ee5\u5b83\u8fd4\u56deNaN\u3002\u572824\uff0c\n\"n\"\n\uff0c\u7b2c14\u4e2a\u5b57\u6bcd\uff0c\u88ab\u6dfb\u52a0\u5230\u6570\u5b57\u7cfb\u7edf\u4e2d\u3002\u572831\uff0c\u6dfb\u52a0\u7b2c21\u4e2a\u5b57\u6bcd\n\"u\"\n\uff0c\u5e76\u4e14\u53ef\u4ee5\u89e3\u7801\u6574\u4e2a\u5b57\u7b26\u4e32\u3002\u572837\u65f6\uff0c\u4e0d\u518d\u6709\u4efb\u4f55\u53ef\u4ee5\u751f\u6210\u7684\u6709\u6548\u6570\u5b57\u96c6\u5e76\u8fd4\u56de\nNaN\n\u3002\n \n\u201cparseInt(null, 24) === 23\u2026 wait, what?\u201d\n at StackOverflow\n\u4e0d\u8981\u5fd8\u8bb0\u516b\u5206\u4e4b\u4e00:\n\n\nparseInt\n(\n06\n);\n \n// 6\n\n\nparseInt\n(\n08\n);\n \n// 8 if support ECMAScript 5\n\n\nparseInt\n(\n08\n);\n \n// 0 if not support ECMAScript 5\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u5982\u679c\u8f93\u5165\u5b57\u7b26\u4e32\u4ee5\"0\"\u5f00\u5934\uff0c\u5219\u57fa\u6570\u4e3a\u516b\uff08\u516b\u8fdb\u5236\uff09\u6216\u5341\uff08\u5341\u8fdb\u5236\uff09\u3002\n\u7a76\u7adf\u9009\u62e9\u54ea\u4e2a\u57fa\u6570\u662f\u4f9d\u8d56\u4e8e\u5b9e\u73b0\u7684\u3002\nECMAScript 5\u6307\u5b9a\u4f7f\u752810\uff08\u5341\u8fdb\u5236\uff09\uff0c\u4f46\u5e76\u975e\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u6b64\u529f\u80fd\u3002\n\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u5f53\u4f7f\u7528\nparseInt\n\u65f6\u603b\u662f\u6307\u5b9a\u4e00\u4e2a\u57fa\u6570\u3002\nparseInt\n\u603b\u662f\u5c06\u200b\u200b\u8f93\u5165\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff1a\nparseInt\n({\n \ntoString\n:\n \n()\n \n=\n \n2\n,\n \nvalueOf\n:\n \n()\n \n=\n \n1\n \n})\n \n// -\n 2\n\n\nNumber\n({\n \ntoString\n:\n \n()\n \n=\n \n2\n,\n \nvalueOf\n:\n \n()\n \n=\n \n1\n \n})\n   \n// -\n 1\n\n\n\n\n\u6570\u5b66\u7528\ntrue\n\u548c\nfalse\n\n\n\u8ba9\u6211\u4eec\u6765\u505a\u4e00\u4e9b\u6570\u5b66\uff1a\n\n\ntrue\n \n+\n \ntrue\n \n// -\n 2\n\n\n(\ntrue\n \n+\n \ntrue\n)\n \n*\n \n(\ntrue\n \n+\n \ntrue\n)\n \n-\n \ntrue\n \n// -\n 3\n\n\n\n\n\nHmmm\u2026 \ud83e\udd14\n\n\n\ud83d\udca1 \u8bf4\u660e\nWe can coerce values to numbers with the \nNumber\n constructor.\nIt's quite obvious that \ntrue\n will be coerced to \n1\n:\nNumber\n(\ntrue\n)\n \n// -\n 1\n\n\n\n\nThe unary plus operator attempts to convert its value into a number.\nIt can convert string representations of integers and floats, as well as the non-string values \ntrue\n, \nfalse\n, and \nnull\n.\nIf it cannot parse a particular value, it will evaluate to \nNaN\n.\nThat means we can coerce \ntrue\n to \n1\n easier:\n+\ntrue\n \n// -\n 1\n\n\n\n\nWhen you're performing addition or multiplication, the \nToNumber\n method is invoked.\nAccording to the specification, this method returns:\nIf \nargument\n is \ntrue\n, return \n1\n.\nIf \nargument\n is \nfalse\n, return \n+0\n.\nThat's why we can add boolean values as regular numbers and get correct results.\nCorresponding sections:\n12.5.6\n Unary \n+\n Operator\n12.8.3\n The Addition Operator (\n+\n)\n7.1.3\n ToNumber(\nargument\n)\nHTML\u6ce8\u91ca\u5728JavaScript\u4e2d\u6709\u6548\n\n\n\u60a8\u4f1a\u7559\u4e0b\u6df1\u523b\u7684\u5370\u8c61\uff0c\u4f46\n!--\n\uff08\u8fd9\u88ab\u79f0\u4e3aHTML\u6ce8\u91ca\uff09\u662fJavaScript\u4e2d\u7684\u6709\u6548\u6ce8\u91ca\u3002\n\n\n// valid comment\n\n\n!--\n \nvalid\n \ncomment\n \ntoo\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u5370\u8c61\u6df1\u523b\uff1f,\u7c7b\u4f3cHTML\u7684\u6ce8\u91ca\u65e8\u5728\u5141\u8bb8\u4e0d\u7406\u89e3\nscript\n\u6807\u7b7e\u7684\u6d4f\u89c8\u5668\u4f18\u96c5\u5730\u964d\u7ea7\u3002\n\u8fd9\u4e9b\u6d4f\u89c8\u5668\uff0c\u4f8b\u5982,Netscape 1.x\u4e0d\u518d\u53d7\u6b22\u8fce\u3002\n\u56e0\u6b64\uff0c\u5c06HTML\u6ce8\u91ca\u653e\u5165\u811a\u672c\u6807\u8bb0\u4e2d\u5b9e\u5728\u6ca1\u6709\u610f\u4e49\u3002\n\u7531\u4e8eNode.js\u57fa\u4e8eV8\u5f15\u64ce\uff0c\u56e0\u6b64Node.js\u8fd0\u884c\u65f6\u4e5f\u652f\u6301\u7c7b\u4f3cHTML\u7684\u6ce8\u91ca\u3002\n\u800c\u4e14\uff0c\u5b83\u4eec\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\uff1a\nB.1.3\n \u7c7b\u4f3cHTML\u7684\u8bc4\u8bba\nNaN\n~~\u4e0d\u662f~~\u4e00\u4e2a\u6570\u5b57\n\n\nNaN\n\u7684\u7c7b\u578b\u662f\n'number'\n\uff1a\n\n\ntypeof\n \nNaN\n            \n// -\n \nnumber\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\ntypeof\n and \ninstanceof\n\u64cd\u4f5c\u7b26\u7684\u89e3\u91ca\uff1a\n12.5.5\n \ntypeof\n\u8fd0\u7b97\u7b26\n12.10.4\n \u8fd0\u884c\u65f6\u8bed\u4e49: InstanceofOperator(\nO\n,\nC\n)\n[]\n\u548c\nnull\n\u662f\u5bf9\u8c61\n\n\ntypeof\n \n[]\n   \n// -\n \nobject\n\n\ntypeof\n \nnull\n \n// -\n \nobject\n\n\n\n// \u7136\u800c\n\n\nnull\n \ninstanceof\n \nObject\n \n// false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe behavior of \ntypeof\n operator is defined in this section of the specification:\n12.5.5\n The \ntypeof\n Operator\nAccording to the specification, the \ntypeof\n operator returns a string according to \nTable 35: \ntypeof\n Operator Results\n.\nFor \nnull\n, ordinary, standard exotic and non-standard exotic objects, which do not implement \n[[Call]]\n, it returns the string \n\"object\"\n.\nHowever, you can check the type of an object by using the \ntoString\n method.\nObject\n.\nprototype\n.\ntoString\n.\ncall\n([])\n\n\n// -\n \n[object Array]\n\n\n\nObject\n.\nprototype\n.\ntoString\n.\ncall\n(\nnew\n \nDate\n)\n\n\n// -\n \n[object Date]\n\n\n\nObject\n.\nprototype\n.\ntoString\n.\ncall\n(\nnull\n)\n\n\n// -\n \n[object Null]\n\n\n\n\n\u795e\u5947\u5730\u589e\u52a0\u6570\u5b57\n\n\n999999999999999\n  \n// -\n 999999999999999\n\n\n9999999999999999\n \n// -\n 10000000000000000\n\n\n\n10000000000000000\n       \n// -\n 10000000000000000\n\n\n10000000000000000\n \n+\n \n1\n   \n// -\n 10000000000000000\n\n\n10000000000000000\n \n+\n \n1.1\n \n// -\n 10000000000000002\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThis is caused by IEEE 754-2008 standard for Binary Floating-Point Arithmetic.\nAt this scale, it rounds to the nearest even number.\nRead more:\n6.1.6\n The Number Type\nIEEE 754\n on Wikipedia\n0.1 + 0.2\n\u7684\u7cbe\u5ea6\n\n\nA well-known joke.\nAn addition of \n0.1\n and \n0.2\n is deadly precise:\n\n\n0.1\n \n+\n \n0.2\n \n// -\n 0.30000000000000004\n\n\n(\n0.1\n \n+\n \n0.2\n)\n \n===\n \n0.3\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe answer for the \n\u201dIs floating point math broken?\u201d\n question on StackOverflow:\nThe constants \n0.2\n and \n0.3\n in your program will also be approximations to their true values.\nIt happens that the closest \ndouble\n to \n0.2\n is larger than the rational number \n0.2\n but that the closest \ndouble\n to \n0.3\n is smaller than the rational number \n0.3\n.\nThe sum of \n0.1\n and \n0.2\n winds up being larger than the rational number \n0.3\n and hence disagreeing with the constant in your code.\nThis problem is so known that there is even a website called \n0.30000000000000004.com\n.\nIt occurs in every language that uses floating-point math, not just JavaScript.\n\u4fee\u8865\u6570\u5b57\n\n\n\u60a8\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u65b9\u6cd5\u6765\u5c01\u88c5\u50cf\nNumber\n\u6216\nString\n\u8fd9\u6837\u7684\u5bf9\u8c61\u3002\n\n\nNumber\n.\nprototype\n.\nisOne\n \n=\n \nfunction\n \n()\n \n{\n\n  \nreturn\n \nNumber\n(\nthis\n)\n \n===\n \n1\n\n\n}\n\n\n\n1.0\n.\nisOne\n()\n \n// -\n true\n\n\n1.\n.\nisOne\n()\n  \n// -\n true\n\n\n2.0\n.\nisOne\n()\n \n// -\n false\n\n\n(\n7\n).\nisOne\n()\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u5f88\u663e\u7136\uff0c\u4f60\u53ef\u4ee5\u50cf\u4f7f\u7528JavaScript\u7684\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u6269\u5c55\nNumber\n\u5bf9\u8c61\u3002\n\u4f46\u662f\uff0c\u5982\u679c\u5b9a\u4e49\u7684\u65b9\u6cd5\u7684\u884c\u4e3a\u4e0d\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\uff0c\u5219\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\n\u8fd9\u662f\nNumber\n\u5c5e\u6027\u7684\u5217\u8868:\n20.1\n \u6570\u5b57\u5bf9\u8c61\n\u4e09\u4e2a\u6570\u5b57\u7684\u6bd4\u8f83\n\n\n1\n \n \n2\n \n \n3\n \n// -\n true\n\n\n3\n \n \n2\n \n \n1\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhy does this work that way? Well, the problem is in the first part of an expression.\nHere's how it works:\n1\n \n \n2\n \n \n3\n \n// 1 \n 2 -\n true\n\n\ntrue\n  \n \n3\n \n// true -\n 1\n\n\n1\n     \n \n3\n \n// -\n true\n\n\n\n3\n \n \n2\n \n \n1\n \n// 3 \n 2 -\n true\n\n\ntrue\n  \n \n1\n \n// true -\n 1\n\n\n1\n     \n \n1\n \n// -\n false\n\n\n\n\nWe can fix this with \nGreater than or equal operator (\n=\n)\n:\n3\n \n \n2\n \n=\n \n1\n \n// true\n\n\n\n\nRead more about Relational operators in the specification:\n12.10\n Relational Operators\n\u6709\u8da3\u7684\u6570\u5b66\n\n\nOften the results of arithmetic operations in JavaScript might be quite unexpected.\nConsider these examples:\n\n\n \n3\n  \n-\n \n1\n  \n// -\n 2\n\n \n3\n  \n+\n \n1\n  \n// -\n 4\n\n\n3\n \n-\n \n1\n  \n// -\n 2\n\n\n3\n \n+\n \n1\n  \n// -\n \n31\n\n\n\n \n+\n \n \n// -\n \n\n\n[]\n \n+\n \n[]\n \n// -\n \n\n\n{}\n \n+\n \n[]\n \n// -\n 0\n\n\n[]\n \n+\n \n{}\n \n// -\n \n[object Object]\n\n\n{}\n \n+\n \n{}\n \n// -\n \n[object Object][object Object]\n\n\n\n222\n \n-\n \n-\n111\n \n// -\n 333\n\n\n\n[\n4\n]\n \n*\n \n[\n4\n]\n       \n// -\n 16\n\n\n[]\n \n*\n \n[]\n         \n// -\n 0\n\n\n[\n4\n,\n \n4\n]\n \n*\n \n[\n4\n,\n \n4\n]\n \n// NaN\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhat's happening in the first four examples? Here's a small table to understand addition in JavaScript:\nNumber  + Number  -\n addition\nBoolean + Number  -\n addition\nBoolean + Boolean -\n addition\nNumber  + String  -\n concatenation\nString  + Boolean -\n concatenation\nString  + String  -\n concatenation\n\n\n\nWhat about other examples? A \nToPrimitive\n and \nToString\n methods are being implicitly called for \n[]\n and \n{}\n before addition.\nRead more about evaluation process in the specification:\n12.8.3\n The Addition Operator (\n+\n)\n7.1.1\n ToPrimitive(\ninput\n [,\nPreferredType\n])\n7.1.12\n ToString(\nargument\n)\nRegExps \u6269\u5c55\n\n\nDid you know you can add numbers like this?\n\n\n// Patch a toString method\n\n\nRegExp\n.\nprototype\n.\ntoString\n \n=\n \nfunction\n()\n \n{\n\n  \nreturn\n \nthis\n.\nsource\n\n\n}\n\n\n\n/7/\n \n-\n \n/5/\n \n// -\n 2\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\n\n21.2.5.10\n get RegExp.prototype.source\n\n\n\n\n\u5b57\u7b26\u4e32\u4e0d\u662f\nString\n\u7684\u5b9e\u4f8b\n\n\nstr\n \n// -\n \nstr\n\n\ntypeof\n \nstr\n \n// -\n \nstring\n\n\nstr\n \ninstanceof\n \nString\n \n// -\n false\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe \nString\n constructor returns a string:\ntypeof\n \nString\n(\nstr\n)\n   \n// -\n \nstring\n\n\nString\n(\nstr\n)\n          \n// -\n \nstr\n\n\nString\n(\nstr\n)\n \n==\n \nstr\n \n// -\n true\n\n\n\n\nLet's try with a \nnew\n:\nnew\n \nString\n(\nstr\n)\n \n==\n \nstr\n \n// -\n true\n\n\ntypeof\n \nnew\n \nString\n(\nstr\n)\n   \n// -\n \nobject\n\n\n\n\nObject? What's that?\nnew\n \nString\n(\nstr\n)\n \n// -\n [String: \nstr\n]\n\n\n\n\nMore information about the String constructor in the specification:\n21.1.1\n The String Constructor\n\u7528\u53cd\u5f15\u53f7\u8c03\u7528\u51fd\u6570\n\n\nLet's declare a function which logs all params into the console:\n\n\nfunction\n \nf\n(...\nargs\n)\n \n{\n\n  \nreturn\n \nargs\n\n\n}\n\n\n\n\n\nNo doubt, you know you can call this function like this:\n\n\nf\n(\n1\n,\n \n2\n,\n \n3\n)\n \n// -\n [ 1, 2, 3 ]\n\n\n\n\n\nBut did you know you can call any function with backticks?\n\n\nf\n`true is \n${\ntrue\n}\n, false is \n${\nfalse\n}\n, array is \n${\n[\n1\n,\n2\n,\n3\n]\n}\n`\n\n\n// -\n [ [ \ntrue is \n, \n, false is \n, \n, array is \n, \n ],\n\n\n// -\n   true,\n\n\n// -\n   false,\n\n\n// -\n   [ 1, 2, 3 ] ]\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWell, this is not magic at all if you're familiar with \nTagged template literals\n.\nIn the example above, \nf\n function is a tag for template literal.\nTags before template literal allow you to parse template literals with a function.\nThe first argument of a tag function contains an array of string values.\nThe remaining arguments are related to the expressions.\n\u4f8b:\nfunction\n \ntemplate\n(\nstrings\n,\n \n...\nkeys\n)\n \n{\n\n  \n// do something with strings and keys\u2026\n\n\n}\n\n\n\n\nThis is the \nmagic behind\n famous library called \n\ud83d\udc85 styled-components\n, which is popular in the React community.\nLink to the specification:\n12.3.7\n Tagged Templates\nCall call call\n\n\n\n\nFound by \n@cramforce\n\n\n\n\nconsole\n.\nlog\n.\ncall\n.\ncall\n.\ncall\n.\ncall\n.\ncall\n.\napply\n(\na\n \n=\n \na\n,\n \n[\n1\n,\n \n2\n])\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nAttention, it could break your mind! Try to reproduce this code in your head: we're applying the \ncall\n method using the \napply\n method.\nRead more:\n19.2.3.3\n Function.prototype.call(\nthisArg\n, ...\nargs\n)\n19.2.3.1 \n Function.prototype.apply(\nthisArg\n, \nargArray\n)\nconstructor\n\u5c5e\u6027\n\n\nconst\n \nc\n \n=\n \nconstructor\n\n\nc\n[\nc\n][\nc\n](\nconsole.log(\nWTF?\n)\n)()\n \n// \n WTF?\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nLet's \u8003\u8651\u8fd9\u4e00\u70b9 example step-by-step:\n// Declare a new constant which is a string \nconstructor\n\n\nconst\n \nc\n \n=\n \nconstructor\n\n\n\n// c is a string\n\n\nc\n \n// -\n \nconstructor\n\n\n\n// Getting a constructor of string\n\n\nc\n[\nc\n]\n \n// -\n [Function: String]\n\n\n\n// Getting a constructor of constructor\n\n\nc\n[\nc\n][\nc\n]\n \n// -\n [Function: Function]\n\n\n\n// Call the Function constructor and pass\n\n\n// the body of new function as an argument\n\n\nc\n[\nc\n][\nc\n](\nconsole.log(\nWTF?\n)\n)\n \n// -\n [Function: anonymous]\n\n\n\n// And then call this anonymous function\n\n\n// The result is console-logging a string \nWTF?\n\n\nc\n[\nc\n][\nc\n](\nconsole.log(\nWTF?\n)\n)()\n \n// \n WTF?\n\n\n\n\nAn \nObject.prototype.constructor\n returns a reference to the \nObject\n constructor function that created the instance object.\nIn case with strings it is \nString\n, in case with numbers it is \nNumber\n and so on.\nObject.prototype.constructor\n at MDN\n19.1.3.1\n Object.prototype.constructor\n\u5bf9\u8c61\u4f5c\u4e3a\u5bf9\u8c61\u5c5e\u6027\u7684\u952e\n\n\n{\n \n[{}]\n:\n \n{}\n \n}\n \n// -\n { \n[object Object]\n: {} }\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhy does this work so? Here we're using a \nComputed property name\n.\nWhen you pass an object between those brackets, it coerces object to a string, so we get the property key \n'[object Object]'\n and the value \n{}\n.\nWe can make \"brackets hell\" like this:\n({[{}]\n:\n{[{}]\n:\n{}}})[{}][{}]\n \n// -\n {}\n\n\n\n// structure:\n\n\n// {\n\n\n//   \n[object Object]\n: {\n\n\n//     \n[object Object]\n: {}\n\n\n//   }\n\n\n// }\n\n\n\n\n\u5728\u8fd9\u91cc\u9605\u8bfb\u66f4\u591a\u5173\u4e8e\u5bf9\u8c61\u6587\u5b57:\nObject initializer\n at MDN\n12.2.6\n Object Initializer\n\u4f7f\u7528\n__proto__\n\u8bbf\u95ee\u539f\u578b\n\n\nAs we know, primitives don't have prototypes.\nHowever, if we try to get a value of \n__proto__\n for primitives, we would get this:\n\n\n(\n1\n).\n__proto__\n.\n__proto__\n.\n__proto__\n \n// -\n null\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThis happens because when something doesn't have a prototype, it will be wrapped into a wrapper object using the \nToObject\n method.\nSo, step-by-step:\n(\n1\n).\n__proto__\n \n// -\n [Number: 0]\n\n\n(\n1\n).\n__proto__\n.\n__proto__\n \n// -\n {}\n\n\n(\n1\n).\n__proto__\n.\n__proto__\n.\n__proto__\n \n// -\n null\n\n\n\n\nHere is more information about \n__proto__\n:\nB.2.2.1\n Object.prototype.\nproto\n7.1.13\n ToObject(\nargument\n)\n`${{Object}}`\n\n\nWhat is the result of the expression below?\n\n\n`\n${\n{\nObject\n}\n}`\n\n\n\n\n\nThe answer is:\n\n\n// -\n \n[object Object]\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWe defined an object with a property \nObject\n using \nShorthand property notation\n:\n{\n \nObject\n:\n \nObject\n \n}\n\n\n\n\nThen we've passed this object to the template literal, so the \ntoString\n method calls for that object.\nThat's why we get the string \n'[object Object]'\n.\n12.2.9\n Template Literals\nObject initializer\n at MDN\n\u7528\u9ed8\u8ba4\u503c\u89e3\u6784\n\n\n\u8003\u8651\u8fd9\u4e2a\u4f8b\u5b50:\n\n\nlet\n \nx\n,\n \n{\n \nx\n:\n \ny\n \n=\n \n1\n \n}\n \n=\n \n{\n \nx\n \n};\n \ny\n;\n\n\n\n\n\n\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u9762\u8bd5\u7684\u4e00\u9879\u91cd\u8981\u4efb\u52a1\u3002\n\ny\n\u7684\u503c\u662f\u4ec0\u4e48\uff1f,\u7b54\u6848\u662f\uff1a\n\n\n// -\n 1\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nlet\n \nx\n,\n \n{\n \nx\n:\n \ny\n \n=\n \n1\n \n}\n \n=\n \n{\n \nx\n \n};\n \ny\n;\n\n\n//  \u2191       \u2191           \u2191    \u2191\n\n\n//  1       3           2    4\n\n\n\n\n\u7528\u4e0a\u9762\u7684\u4f8b\u5b50:\n\u6211\u4eec\u58f0\u660e\nx\n\u6ca1\u6709\u503c\uff0c\u6240\u4ee5\u5b83\u662f\nundefined\n\u3002\n\u7136\u540e\u6211\u4eec\u5c06\nx\n\u7684\u503c\u6253\u5305\u5230\u5bf9\u8c61\u5c5e\u6027\nx\n\u4e2d\u3002\n\u7136\u540e\u6211\u4eec\u4f7f\u7528\u89e3\u6784\u6765\u63d0\u53d6\nx\n\u7684\u503c\uff0c\u5e76\u4e14\u60f3\u628a\u5b83\u8d4b\u503c\u7ed9\ny\n\u3002 \u5982\u679c\u8be5\u503c\u6ca1\u6709\u5b9a\u4e49\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u4f7f\u7528\n1\n\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u3002\n\u8fd4\u56de\ny\n\u7684\u503c\u3002\nMDN\n\u5bf9\u8c61\u521d\u59cb\u5316\u5668\n\u70b9\u548c\u6269\u5c55\n\n\n\u6709\u8da3\u7684\u4f8b\u5b50\u53ef\u4ee5\u7528\u6570\u7ec4\u7684\u6269\u5c55\u6765\u7ec4\u6210\u3002\u8003\u8651\u8fd9\u4e00\u70b9:\n\n\n[...[...\n...\n]].\nlength\n \n// -\n 3\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhy \n3\n? When we use the \nspread operator\n, the \n@@iterator\n method is called, and the returned iterator is used to obtain the values to be iterated.\nThe default iterator for string spreads a string into characters.\nAfter spreading, we pack these characters into an array.\nThen we spread this array again and pack it back to an array.\nA \n'...'\n string consists with three \n.\n characters, so the length of resulting array is \n3\n.\nNow, step-by-step:\n[...\n...\n]\n             \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n[...[...\n...\n]]\n        \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n[...[...\n...\n]].\nlength\n \n// -\n 3\n\n\n\n\nObviously, we can spread and wrap the elements of an array as many times as we want:\n[...\n...\n]\n                 \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n[...[...\n...\n]]\n            \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n[...[...[...\n...\n]]]\n       \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n[...[...[...[...\n...\n]]]]\n  \n// -\n [ \n.\n, \n.\n, \n.\n ]\n\n\n// and so on \u2026\n\n\n\n\n\u6807\u7b7e\n\n\n\u6ca1\u6709\u591a\u5c11\u7a0b\u5e8f\u5458\u77e5\u9053JavaScript\u4e2d\u7684\u6807\u7b7e\u3002\u4ed6\u4eec\u5f88\u6709\u8da3\uff1a\n\n\nfoo\n:\n \n{\n\n  \nconsole\n.\nlog\n(\nfirst\n);\n\n  \nbreak\n \nfoo\n;\n\n  \nconsole\n.\nlog\n(\nsecond\n);\n\n\n}\n\n\n\n// \n first\n\n\n// -\n undefined\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u5e26\u6807\u7b7e\u7684\u8bed\u53e5\u4e0e\nbreak\n\u6216\ncontinue\n\u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u6807\u7b7e\u6765\u6807\u8bc6\u5faa\u73af\uff0c\u7136\u540e\u4f7f\u7528\nbreak\n\u6216\ncontinue\n\u8bed\u53e5\u6765\u6307\u793a\u7a0b\u5e8f\u662f\u5426\u5e94\u8be5\u4e2d\u65ad\u5faa\u73af\u6216\u7ee7\u7eed\u6267\u884c\u3002\n\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u6807\u8bc6\u4e86\u4e00\u4e2a\u6807\u7b7e\nfoo\n\u3002\n\u4e4b\u540e\nconsole.log('first');\n\u6267\u884c\uff0c\u7136\u540e\u6211\u4eec\u4e2d\u65ad\u6267\u884c\u3002\n\u9605\u8bfb\u5173\u4e8eJavaScript\u4e2d\u6807\u7b7e\u7684\u66f4\u591a\u4fe1\u606f\uff1a\n13.13\n \u6807\u8bb0\u8bed\u53e5\n\u6807\u8bb0\u8bed\u53e5\n at MDN\n\u5d4c\u5957\u6807\u7b7e\n\n\na\n:\n \nb\n:\n \nc\n:\n \nd\n:\n \ne\n:\n \nf\n:\n \ng\n:\n \n1\n,\n \n2\n,\n \n3\n,\n \n4\n,\n \n5\n;\n \n// -\n 5\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u4e0e\u4ee5\u524d\u7684\u4f8b\u5b50\u7c7b\u4f3c\uff0c\u8bf7\u6309\u7167\u8fd9\u4e9b\u94fe\u63a5:\n12.16\n \u9017\u53f7\u8fd0\u7b97\u7b26 (\n,\n)\n13.13\n \u6807\u8bb0\u8bed\u53e5\n\u6807\u8bb0\u8bed\u53e5\n at MDN\n\u9634\u9669 \ntry..catch\n\n\n\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u4f1a\u8fd4\u56de\u4ec0\u4e48\uff1f? \n2\n \u6216\u8005 \n3\n?\n\n\n(()\n \n=\n \n{\n\n  \ntry\n \n{\n\n    \nreturn\n \n2\n;\n\n  \n}\n \nfinally\n \n{\n\n    \nreturn\n \n3\n;\n\n  \n}\n\n\n})()\n\n\n\n\n\n\u7b54\u6848\u662f \n3\n.\n\u8be7\u5f02?\n\n\n\ud83d\udca1 \u8bf4\u660e\n13.15\n \ntry\n \u58f0\u660e\n\u8fd9\u662f\u591a\u91cd\u7ee7\u627f?\n\n\n\u770b\u770b\u4e0b\u9762\u7684\u4f8b\u5b50:\n\n\nnew\n \n(\nclass\n \nF\n \nextends\n \n(\nString\n,\n \nArray\n)\n \n{\n \n})\n \n// -\n F []\n\n\n\n\n\n\u8fd9\u662f\u4e00\u4e2a\u591a\u91cd\u7ee7\u627f? \u4e0d.\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe interesting part is the value of the \nextends\n clause (\n(String, Array)\n).\nThe grouping operator always returns its last argument, so \n(String, Array)\n is actually just \nArray\n.\nThat means we've just created a class which extends \nArray\n.\n14.5\n Class Definitions\n12.16\n Comma Operator (\n,\n)\nA generator which yields itself\n\n\n\u8003\u8651\u8fd9\u4e00\u70b9 example of a generator which yields itself:\n\n\n(\nfunction\n*\n \nf\n()\n \n{\n \nyield\n \nf\n \n})().\nnext\n()\n\n\n// -\n { value: [GeneratorFunction: f], done: false }\n\n\n\n\n\nAs you can see, the returned value is an object with its \nvalue\n equal to \nf\n.\nIn that case, we can do something like this:\n\n\n(\nfunction\n*\n \nf\n()\n \n{\n \nyield\n \nf\n \n})().\nnext\n().\nvalue\n().\nnext\n()\n\n\n// -\n { value: [GeneratorFunction: f], done: false }\n\n\n\n// and again\n\n\n(\nfunction\n*\n \nf\n()\n \n{\n \nyield\n \nf\n \n})().\nnext\n().\nvalue\n().\nnext\n().\nvalue\n().\nnext\n()\n\n\n// -\n { value: [GeneratorFunction: f], done: false }\n\n\n\n// and again\n\n\n(\nfunction\n*\n \nf\n()\n \n{\n \nyield\n \nf\n \n})().\nnext\n().\nvalue\n().\nnext\n().\nvalue\n().\nnext\n().\nvalue\n().\nnext\n()\n\n\n// -\n { value: [GeneratorFunction: f], done: false }\n\n\n\n// and so on\n\n\n// \u2026\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u8981\u7406\u89e3\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5de5\u4f5c\uff0c\u8bf7\u9605\u8bfb\u89c4\u8303\u7684\u8fd9\u4e9b\u90e8\u5206:\n25\n \u63a7\u5236\u62bd\u8c61\u5bf9\u8c61\n25.3\n \u751f\u6210\u5668\u5bf9\u8c61\nA class of class\n\n\n\u8003\u8651\u8fd9\u79cd\u6df7\u6dc6\u7684\u8bed\u6cd5\u64ad\u653e:\n\n\n(\ntypeof\n \n(\nnew\n \n(\nclass\n \n{\n \nclass\n \n()\n \n{}\n \n})))\n \n// -\n \nobject\n\n\n\n\n\nIt seems like we're declaring a class inside of class.\nShould be an error, however, we get the string \n'object'\n.\n\n\n\ud83d\udca1 \u8bf4\u660e\nSince ECMAScript 5 era, \nkeywords\n are allowed as \nproperty names\n.\nSo think about it as this simple object \u4f8b:\nconst\n \nfoo\n \n=\n \n{\n\n  \nclass\n:\n \nfunction\n()\n \n{}\n\n\n};\n\n\n\n\nAnd ES6 standardized shorthand method definitions.\nAlso, classes can be anonymous.\nSo if we drop \n: function\n part, we're going to get:\nclass\n \n{\n\n  \nclass\n()\n \n{}\n\n\n}\n\n\n\n\nThe result of a default class is always a simple object.\nAnd its typeof should return \n'object'\n.\nRead more here:\n14.3\n Method Definitions\n14.5\n Class Definitions\nNon-coercible objects\n\n\nWith well-known symbols, there's a way to get rid of type coercion.\nTake a look:\n\n\nfunction\n \nnonCoercible\n(\nval\n)\n \n{\n\n  \nif\n \n(\nval\n \n==\n \nnull\n)\n \n{\n\n    \nthrow\n \nTypeError\n(\nnonCoercible should not be called with null or undefined\n)\n\n  \n}\n\n\n  \nconst\n \nres\n \n=\n \nObject\n(\nval\n)\n\n\n  \nres\n[\nSymbol\n.\ntoPrimitive\n]\n \n=\n \n()\n \n=\n \n{\n\n    \nthrow\n \nTypeError\n(\nTrying to coerce non-coercible object\n)\n\n  \n}\n\n\n  \nreturn\n \nres\n\n\n}\n\n\n\n\n\nNow we can use this like this:\n\n\n// objects\n\n\nconst\n \nfoo\n \n=\n \nnonCoercible\n({\nfoo\n:\n \nfoo\n})\n\n\n\nfoo\n \n*\n \n10\n      \n// -\n TypeError: Trying to coerce non-coercible object\n\n\nfoo\n \n+\n \nevil\n  \n// -\n TypeError: Trying to coerce non-coercible object\n\n\n\n// strings\n\n\nconst\n \nbar\n \n=\n \nnonCoercible\n(\nbar\n)\n\n\n\nbar\n \n+\n \n1\n                 \n// -\n TypeError: Trying to coerce non-coercible object\n\n\nbar\n.\ntoString\n()\n \n+\n \n1\n        \n// -\n bar1\n\n\nbar\n \n===\n \nbar\n             \n// -\n false\n\n\nbar\n.\ntoString\n()\n \n===\n \nbar\n  \n// -\n true\n\n\nbar\n \n==\n \nbar\n              \n// -\n TypeError: Trying to coerce non-coercible object\n\n\n\n// numbers\n\n\nconst\n \nbaz\n \n=\n \nnonCoercible\n(\n1\n)\n\n\n\nbaz\n \n==\n \n1\n             \n// -\n TypeError: Trying to coerce non-coercible object\n\n\nbaz\n \n===\n \n1\n            \n// -\n false\n\n\nbaz\n.\nvalueOf\n()\n \n===\n \n1\n  \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nA gist by Sergey Rubanov\n6.1.5.1\n Well-Known Symbols\n\u68d8\u624b\u7684\u7bad\u5934\u529f\u80fd\n\n\n\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50:\n\n\nlet\n \nf\n \n=\n \n()\n \n=\n \n10\n\n\nf\n()\n \n// -\n 10\n\n\n\n\n\n\u597d\uff0c\u5f88\u597d\uff0c\u4f46\u662f\u8fd9\u4e2a\u600e\u4e48\u6837\uff1f:\n\n\nlet\n \nf\n \n=\n \n()\n \n=\n \n{}\n\n\nf\n()\n \n// -\n undefined\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nYou might expect \n{}\n instead of \nundefined\n.\nThis is because the curly braces are part of the syntax of the arrow functions, so \nf\n will return undefined.\nIt is however possible to return the \n{}\n object directly from an arrow function, by enclosing the return value with brackets.\nlet\n \nf\n \n=\n \n()\n \n=\n \n({})\n\n\nf\n()\n \n// -\n {}\n\n\n\n\narguments\n\u548c\u7bad\u5934\u529f\u80fd\n\n\n\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50:\n\n\nlet\n \nf\n \n=\n \nfunction\n(){\n\n  \nreturn\n \narguments\n;\n\n\n}\n\n\nf\n(\na\n);\n \n// -\n { \n0\n: \na\n }\n\n\n\n\n\n\u73b0\u5728\uff0c\u5c1d\u8bd5\u7528\u7bad\u5934\u51fd\u6570\u505a\u540c\u6837\u7684\u4e8b\u60c5:\n\n\nlet\n \nf\n \n=\n \n()\n \n=\n  \narguments\n;\n\n\nf\n(\na\n);\n \n// -\n Uncaught ReferenceError: arguments is not defined\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nArrow functions are a lightweight version of regular functions with a focus on being short and lexical \nthis\n.\nAt the same time arrow functions do not provide a binding for the \narguments\n object.\nAs a valid alternative use the \nrest parameters\n to achieve the same result:\nlet\n \nf\n \n=\n \n(...\nargs\n)\n \n=\n \nargs\n;\n\n\nf\n(\na\n);\n\n\n\n\nArrow functions\n at MDN.\n\u68d8\u624b\u7684\nreturn\n\n\nreturn\n\u8bed\u53e5\u4e5f\u5f88\u68d8\u624b.\u8003\u8651\u8fd9\u4e00\u70b9:\n\n\n(\nfunction\n \n()\n \n{\n\n  \nreturn\n\n  \n{\n\n    \nb\n \n:\n \n10\n\n  \n}\n\n\n})()\n \n// -\n undefined\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nreturn\n and the returned expression must be in the same line:\n(\nfunction\n \n()\n \n{\n\n  \nreturn\n \n{\n\n    \nb\n \n:\n \n10\n\n  \n}\n\n\n})()\n \n// -\n { b: 10 }\n\n\n\n\nThis is because of a concept called Automatic Semicolon Insertion, which automagically inserts semicolons after most newlines.\nIn the first example, there is a semicolon inserted between the \nreturn\n statement and the object literal, so the function returns \nundefined\n and the object literal is never evaluated.\n11.9.1\n Rules of Automatic Semicolon Insertion\n13.10\n The \nreturn\n Statement\n\u4f7f\u7528\u6570\u7ec4\u8bbf\u95ee\u5bf9\u8c61\u5c5e\u6027\n\n\nvar\n \nobj\n \n=\n \n{\n \nproperty\n:\n \n1\n \n}\n\n\nvar\n \narray\n \n=\n \n[\nproperty\n]\n\n\n\nobj\n[\narray\n]\n \n// -\n 1\n\n\n\n\n\n\u4f2a\u591a\u7ef4\u6570\u7ec4\u5462\uff1f\n\n\nvar\n \nmap\n \n=\n \n{}\n\n\nvar\n \nx\n \n=\n \n1\n\n\nvar\n \ny\n \n=\n \n2\n\n\nvar\n \nz\n \n=\n \n3\n\n\n\nmap\n[[\nx\n,\n \ny\n,\n \nz\n]]\n \n=\n \ntrue\n\n\nmap\n[[\nx\n \n+\n \n10\n,\n \ny\n,\n \nz\n]]\n \n=\n \ntrue\n\n\n\nmap\n[\n1,2,3\n]\n  \n// -\n true\n\n\nmap\n[\n11,2,3\n]\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe brackets \n[]\n operator converts the passed expression using \ntoString\n.\nConverting a one-element array to a string is akin to converting the contained element to the string:\n[\nproperty\n].\ntoString\n()\n \n// -\n \nproperty\n\n\n\n\n\u7a7a\u548c\u5173\u7cfb\u8fd0\u7b97\u7b26\n\n\nnull\n \n \n0\n;\n  \n// false\n\n\nnull\n \n==\n \n0\n;\n \n// false\n\n\n\nnull\n \n=\n \n0\n;\n \n// true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nLong story short, if \nnull\n is less than \n0\n is \nfalse\n, then \nnull \n= 0\n is \ntrue\n.\nRead in-depth explanation for this \nhere\n.\nNumber.toFixed()\n \u663e\u793a\u4e0d\u540c\u7684\u6570\u5b57\n\n\nNumber.toFixed()\n can behave a bit strange in different browsers.\nCheck out this \u4f8b:\n\n\n0.7875\n.\ntoFixed\n(\n3\n)\n\n    \n// Firefox: -\n 0.787\n\n    \n// Chrome: -\n 0.787\n\n    \n// IE11: -\n 0.788\n\n\n0.7876\n.\ntoFixed\n(\n3\n)\n\n    \n// Firefox: -\n 0.788\n\n    \n// Chrome: -\n 0.788\n\n    \n// IE11: -\n 0.788\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhile your first instinct may be that IE11 is correct and Firefox/Chrome are wrong, the reality is that Firefox/Chrome are more directly obeying standards for numbers (IEEE-754 Floating Point), while IE11 is minutely disobeying them in (what is probably) an effort to give clearer results.\nYou can see why this occurs with a few quick tests:\n// Confirm the odd result of rounding a 5 down\n\n\n0.7875\n.\ntoFixed\n(\n3\n)\n \n// -\n 0.787\n\n\n// It looks like it\ns just a 5 when you expand to the\n\n\n// limits of 64-bit (double-precision) float accuracy\n\n\n0.7875\n.\ntoFixed\n(\n14\n)\n \n// -\n 0.78750000000000\n\n\n// But what if you go beyond the limit?\n\n\n0.7875\n.\ntoFixed\n(\n20\n)\n \n// -\n 0.78749999999999997780\n\n\n\n\nFloating point numbers are not stored as a list of decimal digits internally, but through a more complicated methodology that produces tiny inaccuracies that are usually rounded away by toString and similar calls, but are actually present internally.\nIn this case, that \"5\" on the end was actually an extremely tiny fraction below a true 5.\nRounding it at any reasonable length will render it as a 5...\nbut it is actually not a 5 internally.\nIE11, however, will report the value input with only zeros appended to the end even in the toFixed(20) case, as it seems to be forcibly rounding the value to reduce the troubles from hardware limits.\nSee for reference \nNOTE 2\n on the ECMA-262 definition for \ntoFixed\n.\n20.1.3.3\n Number.prototype.toFixed (\nfractionDigits\n)\nMath.max()\n \u5c11\u4e8e \nMath.min()\n\n\nMath\n.\nmin\n(\n1\n,\n4\n,\n7\n,\n2\n)\n  \n// -\n 1\n\n\nMath\n.\nmax\n(\n1\n,\n4\n,\n7\n,\n2\n)\n \n// -\n 7\n\n\nMath\n.\nmin\n()\n \n// -\n Infinity\n\n\nMath\n.\nmax\n()\n \n// -\n -Infinity\n\n\nMath\n.\nmin\n()\n \n \nMath\n.\nmax\n()\n \n// -\n true\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\nWhy is Math.max() less than Math.min()?\n by Charlie Harvey\n\u6bd4\u8f83 \nnull\n \u548c \n0\n\n\nThe following expressions seem to introduce a contradiction:\n\n\nnull\n \n==\n \n0\n \n// -\n false\n\n\nnull\n \n  \n0\n \n// -\n false\n\n\nnull\n \n=\n \n0\n \n// -\n true\n\n\n\n\n\nHow can \nnull\n be neither equal to nor greater than \n0\n, if \nnull \n= 0\n is actually \ntrue\n? (This also works with less than in the same way.)\n\n\n\ud83d\udca1 \u8bf4\u660e\nThe way these three expressions are evaluated are all different and are responsible for producing this unexpected behavior.\nFirst, the abstract equality comparison \nnull == 0\n.\nNormally, if this operator can't compare the values on either side properly, it converts both to numbers and compares the numbers.\nThen, you might expect the following behavior:\n// This is not what happens\n\n\nnull\n \n==\n \n0\n\n\n+\nnull\n \n==\n \n+\n0\n\n\n0\n \n==\n \n0\n\n\ntrue\n\n\n\n\nHowever, according to a close reading of the spec, the number conversion doesn't actually happen on a side that is \nnull\n or \nundefined\n.\nTherefore, if you have \nnull\n on one side of the equal sign, the other side must be \nnull\n or \nundefined\n for the expression to return \ntrue\n.\nSince this is not the case, \nfalse\n is returned.\nNext, the relational comparison \nnull \n 0\n.\nThe algorithm here, unlike that of the abstract equality operator, \nwill\n convert \nnull\n to a number.\nTherefore, we get this behavior:\nnull\n \n \n0\n\n\n+\nnull\n \n=\n \n+\n0\n\n\n0\n \n \n0\n\n\nfalse\n\n\n\n\nFinally, the relational comparison \nnull \n= 0\n.\nYou could argue that this expression should be the result of \nnull \n 0 || null == 0\n; if this were the case, then the above results would mean that this would also be \nfalse\n.\nHowever, the \n=\n operator in fact works in a very different way, which is basically to take the opposite of the \n operator.\nBecause our example with the greater than operator above also holds for the less than operator, that means this expression is actually evaluated like so:\nnull\n \n=\n \n0\n\n\n!\n(\nnull\n \n \n0\n)\n\n\n!\n(\n+\nnull\n \n \n+\n0\n)\n\n\n!\n(\n0\n \n \n0\n)\n\n\n!\n(\nfalse\n)\n\n\ntrue\n\n\n\n\n7.2.12\n Abstract Relational Comparison\n7.2.13\n Abstract Equality Comparison\n\u540c\u6837\u7684\u53ef\u53d8\u91cd\u65b0\u58f0\u660e\n\n\nJS\u5141\u8bb8\u91cd\u65b0\u58f0\u660e\u53d8\u91cf\uff1a\n\n\na\n;\n\n\na\n;\n\n\n// This is also valid\n\n\na\n,\n \na\n;\n\n\n\n\n\n\u4e5f\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u5de5\u4f5c\uff1a\n\n\nvar\n \na\n,\n \na\n,\n \na\n;\n\n\nvar\n \na\n;\n\n\nvar\n \na\n;\n\n\n\n\n\n\ud83d\udca1 \u8bf4\u660e\n\u6240\u6709\u7684\u8fa9\u62a4\u5408\u5e76\u4e3a\u4e00\u4e2a\u5b9a\u4e49\u3002\n13.3.2\n \u53ef\u53d8\u8bed\u53e5", 
            "title": "\u5217\u8868"
        }, 
        {
            "location": "/wtfjs/#_1", 
            "text": "", 
            "title": "\ud83d\udc40 \u5c4c\u4e1d\u5217\u8868"
        }, 
        {
            "location": "/wtfjs/#_2", 
            "text": "\u6570\u7ec4\u4e0d\u7b49\u4e8e\u6570\u7ec4  []   ==   ! []   // -  true   \ud83d\udca1 \u8bf4\u660e \u62bd\u8c61\u76f8\u7b49\u8fd0\u7b97\u7b26\u5c06\u53cc\u65b9\u8f6c\u6362\u4e3a\u6570\u5b57\u8fdb\u884c\u6bd4\u8f83\uff0c\u53cc\u65b9\u7531\u4e8e\u4e0d\u540c\u7684\u539f\u56e0\u6210\u4e3a\u6570\u5b57\u201c0\u201d\u3002\n\u6570\u7ec4\u662f\u771f\u7684, \u6240\u4ee5\u5728\u53f3\u8fb9, \u4e0e\u771f\u503c\u76f8\u53cd\u7684\u662f false , \u7136\u540e\u88ab\u5f3a\u5236 0 .\n\u5728\u5de6\u8fb9, \u7136\u800c, \u4e00\u4e2a\u7a7a\u6570\u7ec4\u88ab\u5f3a\u5236\u4e3a\u4e00\u4e2a\u6570\u5b57\uff0c\u800c\u4e0d\u662f\u5148\u6210\u4e3a\u5e03\u5c14\u503c, \u5e76\u4e14\u7a7a\u9635\u5217\u88ab\u5f3a\u5236 0 , \u5c3d\u7ba1\u662f\u771f\u7684. \u8fd9\u662f\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5982\u4f55\u7b80\u5316 + []   ==   +! []  0   ==   + false  0   ==   0  true   \u4e5f\u53ef\u4ee5\u770b\u770b []  \u662f\u771f\u7684, \u4f46\u4e0d\u662f true . 12.5.9  \u903b\u8f91NOT\u8fd0\u7b97\u7b26 ( ! ) 7.2.13  \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83", 
            "title": "[] \u7b49\u4e8e ![]"
        }, 
        {
            "location": "/wtfjs/#true-false", 
            "text": "!! false   ==    !! true    // -  true  !! false   ===   !! true   // -  true   \ud83d\udca1 \u8bf4\u660e \u8003\u8651\u8fd9\u4e00\u6b65\u4e00\u6b65\uff1a // true is  truthy  and represented by value 1 (number),  true  in string form is NaN.  true   ==   true      // -  false  false   ==   false    // -  false  //  false  is not the empty string, so it s a truthy value  !! false   // -  true  !! true    // -  true   7.2.13  \u62bd\u8c61\u5e73\u7b49\u6bd4\u8f83", 
            "title": "true \u662f false"
        }, 
        {
            "location": "/wtfjs/#banana", 
            "text": "b   +   a   +   +   a   +   a   \u8fd9\u662fJavaScript\u4e2d\u7684\u4e00\u4e2a\u8001\u6d3e\u73a9\u7b11\uff0c\u4f46\u91cd\u65b0\u4fee\u590d\u3002\n\u8fd9\u662f\u539f\u6765\u7684\u4e00\u4e2a\uff1a  foo   +   +   bar   // -   fooNaN   \ud83d\udca1 \u8bf4\u660e The expression is evaluated as  'foo' + (+'bar') , which converts  'bar'  to not a number. 12.8.3  The Addition Operator ( + ) 12.5.6 Unary + Operator", 
            "title": "baNaNa"
        }, 
        {
            "location": "/wtfjs/#nan-is-not-a-nan", 
            "text": "NaN   ===   NaN   // -  false   \ud83d\udca1 \u8bf4\u660e \u89c4\u8303\u4e25\u683c\u5b9a\u4e49\u4e86\u8fd9\u79cd\u884c\u4e3a\u80cc\u540e\u7684\u903b\u8f91\uff1a If  Type(x)  is different from  Type(y) , return  false . If  Type(x)  is Number, then If  x  is  NaN , return  false . If  y  is  NaN , return  false . \u2026 \u2026 \u2026   7.2.14  Strict Equality Comparison \u9075\u5faaIEEE\u7684\u201cNaN\u201d\u5b9a\u4e49\uff1a \u56db\u79cd\u76f8\u4e92\u6392\u65a5\u7684\u5173\u7cfb\u662f\u53ef\u80fd\u7684: \u5c11\u4e8e, \u7b49\u4e8e, \u5927\u4e8e\uff0c\u65e0\u5e8f.\u6700\u540e\u4e00\u79cd\u60c5\u51b5\u51fa\u73b0\u5728\u81f3\u5c11\u4e00\u4e2a\u64cd\u4f5c\u6570\u662fNaN\u7684\u60c5\u51b5\u4e0b\u3002\u6bcf\u4e2aNaN\u90fd\u4f1a\u5c06\u65e0\u5e8f\u4e0e\u5305\u62ec\u5b83\u81ea\u5df1\u5728\u5185\u7684\u6240\u6709\u4e8b\u7269\u8fdb\u884c\u6bd4\u8f83\u3002   \u201cIEEE754 NaN\u503c\u8fd4\u56defalse\u7684\u6240\u6709\u6bd4\u8f83\u7684\u57fa\u672c\u539f\u7406\u662f\u4ec0\u4e48\uff1f\u201d  at StackOverflow", 
            "title": "NaN is not a NaN"
        }, 
        {
            "location": "/wtfjs/#_3", 
            "text": "\u4f60\u4e0d\u4f1a\u76f8\u4fe1\uff0c\u4f46...  ( ! [] + [])[ + []] + ( ! [] + [])[ +!+ []] + ([ ! []] + [][[]])[ +!+ [] + [ + []]] + ( ! [] + [])[ !+ [] +!+ []]  // -   fail   \ud83d\udca1 \u8bf4\u660e By breaking that mass of symbols into pieces, we notice that the following pattern occurs often: ( ! [] + [])   // -   false  ! []        // -  false   So we try adding  []  to  false .\nBut due to a number of internal function calls ( binary + Operator  -   ToPrimitive  -   [[DefaultValue]] ) we end up converting the right operand to a string: ( ! [] + []. toString ())   //  false   Thinking of a string as an array we can access its first character via  [0] : false [ 0 ]   // -   f   The rest is obvious, but the  i  is tricky.\nThe  i  in  fail  is grabbed by generating the string  'falseundefined'  and grabbing the element on index  ['10']", 
            "title": "\u8fd9\u662f\u4e00\u4e2a\u5931\u8d25"
        }, 
        {
            "location": "/wtfjs/#true", 
            "text": "\u4e00\u4e2a\u6570\u7ec4\u662f\u4e00\u4e2a\u771f\u503c\uff0c\u7136\u800c\uff0c\u5b83\u4e0d\u7b49\u4e8e true \u3002  !! []         // -  true  []   ==   true   // -  false   \ud83d\udca1 \u8bf4\u660e \u4ee5\u4e0b\u662fECMA-262\u89c4\u8303\u4e2d\u76f8\u5e94\u7ae0\u8282\u7684\u94fe\u63a5\uff1a 12.5.9  \u903b\u8f91NOT\u8fd0\u7b97\u7b26 ( ! ) 7.2.13  \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83", 
            "title": "[] \u662f\u771f\u7684, \u4f46\u4e0d\u662ftrue"
        }, 
        {
            "location": "/wtfjs/#null-false", 
            "text": "\u5c3d\u7ba1 null \u662f\u4e00\u4e2a\u865a\u5047\u503c\uff0c\u5b83\u4e0d\u7b49\u4e8e false \u3002  !! null          // -  false  null   ==   false   // -  false   \u540c\u65f6\uff0c\u5176\u4ed6\u7684\u5047\u503c\uff0c\u5982 0 \u6216 '' \u7b49\u4e8e false \u3002  0   ==   false    // -  true    ==   false   // -  true   \ud83d\udca1 \u8bf4\u660e \u89e3\u91ca\u4e0e\u524d\u9762\u7684\u4f8b\u5b50\u76f8\u540c\u3002\n\u4ee5\u4e0b\u662f\u76f8\u5e94\u7684\u94fe\u63a5\uff1a 7.2.13  \u62bd\u8c61\u7684\u5e73\u7b49\u6bd4\u8f83", 
            "title": "null\u662f\u5047\u7684, \u4f46\u4e0d\u662ffalse"
        }, 
        {
            "location": "/wtfjs/#documentall-object-undefined", 
            "text": "\u26a0\ufe0f \u8fd9\u662f\u6d4f\u89c8\u5668API\u7684\u4e00\u90e8\u5206\uff0c\u4e0d\u80fd\u5728Node.js\u73af\u5883\u4e2d\u4f7f\u7528 \u26a0\ufe0f   \u5c3d\u7ba1 document.all \u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5b83\u53ef\u4ee5\u8bbf\u95ee\u9875\u9762\u4e2d\u7684DOM\u8282\u70b9, \u4f7f\u7528 typeof \u51fd\u6570\u65f6\u8fd4\u56de undefined .  document . all   instanceof   Object   // -  true  typeof   document . all   // -   undefined   \u540c\u65f6\uff0c document.all \u4e0d\u7b49\u4e8e undefined \u3002  document . all   ===   undefined   // -  false  document . all   ===   null   // -  false   \u4f46\u5728\u540c\u65f6\uff1a  document . all   ==   null   // -  true   \ud83d\udca1 \u8bf4\u660e document.all  used to be a way to access DOM elements, in particular with old versions of IE.\nWhile it has never been a standard it was broadly used in the old age JS code.\nWhen the standard progressed with new APIs (such as  document.getElementById ) this API call became obsolete and the standard commitee had to decide what to do with it.\nBecause of its broad use they decided to keep the API but introduce a willful violation of the JavaScript specification.\nThe reason why it responds to  false  when using the  Strict Equality Comparison  with  undefined  while  true  when using the  Abstract Equality Comparison  is due to the willful violation of the specification that explicitly allows that.   \u201cObsolete features - document.all\u201d  at WhatWG - HTML spec   \u201cChapter 4 - ToBoolean - Falsy values\u201d  at YDKJS - Types   Grammar", 
            "title": "document.all \u662fObject, \u4f46\u5b83\u662fundefined"
        }, 
        {
            "location": "/wtfjs/#_4", 
            "text": "Number.MIN_VALUE \u662f\u6700\u5c0f\u7684\u6570\u5b57, \u8fd9\u5927\u4e8e\u96f6:  Number . MIN_VALUE     0   // -  true   \ud83d\udca1 \u8bf4\u660e Number.MIN_VALUE  is  5e-324 , i.e. the smallest positive number that can be represented within float precision, i.e. that's as close as you can get to zero. It defines the best resolution that floats can give you. Now the overall smallest value is  Number.NEGATIVE_INFINITY  although it's not really numeric in a strict sense.   \u201cWhy is  0  less than  Number.MIN_VALUE  in JavaScript?\u201d  at StackOverflow 20.1.2.9  Number.MIN_VALUE", 
            "title": "\u6700\u5c0f\u503c\u5927\u4e8e\u96f6"
        }, 
        {
            "location": "/wtfjs/#_5", 
            "text": "\u26a0\ufe0f V8 v5.5\u6216\u66f4\u4f4e\u7248\u672c\u4e2d\u5b58\u5728\u7684\u9519\u8bef\uff08Node.js  = 7\uff09 \u26a0\ufe0f   \u4f60\u4eec\u6240\u6709\u4eba\u90fd\u77e5\u9053\u70e6\u4eba\u7684  undefined \u4e0d\u662f\u51fd\u6570  \uff0c\u4f46\u662f\u8fd9\u4e2a\u600e\u4e48\u6837\uff1f  // \u58f0\u660e\u4e00\u4e2a\u6269\u5c55null\u7684\u7c7b  class   Foo   extends   null   {}  // -  [Function: Foo]  new   Foo   instanceof   null  //   TypeError\uff1a\u51fd\u6570\u4e0d\u662f\u51fd\u6570  //       at \u2026 \u2026 \u2026   \ud83d\udca1 \u8bf4\u660e \u8fd9\u4e0d\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\u3002\n\u8fd9\u53ea\u662f\u4e00\u4e2a\u73b0\u5728\u5df2\u7ecf\u4fee\u590d\u7684\u9519\u8bef\uff0c\u6240\u4ee5\u5728\u5c06\u6765\u4e0d\u5e94\u8be5\u6709\u95ee\u9898\u3002", 
            "title": "\u51fd\u6570\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570"
        }, 
        {
            "location": "/wtfjs/#_6", 
            "text": "\u5982\u679c\u4f60\u5c1d\u8bd5\u6dfb\u52a0\u4e24\u4e2a\u6570\u7ec4\u5462\uff1f  [ 1 ,   2 ,   3 ]   +   [ 4 ,   5 ,   6 ]    // -   1,2,34,5,6   \ud83d\udca1 \u8bf4\u660e \u4e32\u63a5\u53d1\u751f\u3002\n\u4e00\u6b65\u4e00\u6b65\uff0c\u5b83\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a [ 1 ,   2 ,   3 ]   +   [ 4 ,   5 ,   6 ]  // call toString()  [ 1 ,   2 ,   3 ]. toString ()   +   [ 4 ,   5 ,   6 ]. toString ()  // concatenation  1,2,3   +   4,5,6  // -  1,2,34,5,6", 
            "title": "\u6dfb\u52a0\u6570\u7ec4"
        }, 
        {
            "location": "/wtfjs/#_7", 
            "text": "\u4f60\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u67094\u4e2a\u7a7a\u5143\u7d20\u7684\u6570\u7ec4\n\u5c3d\u7ba1\u5982\u6b64\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u5305\u542b\u4e09\u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u56e0\u4e3a\u5c3e\u968f\u9017\u53f7\uff1a  let   a   =   [,,,]  a . length       // -  3  a . toString ()   // -   ,,   \ud83d\udca1 \u8bf4\u660e Trailing commas  (sometimes called \"final commas\") can be useful when adding new elements, parameters, or properties to JavaScript code.\nIf you want to add a new property, you can simply add a new line without modifying the previously last line if that line already uses a trailing comma.\nThis makes version-control diffs cleaner and editing code might be less troublesome.   Trailing commas  at MDN", 
            "title": "\u6570\u7ec4\u4e2d\u7684\u5c3e\u968f\u9017\u53f7"
        }, 
        {
            "location": "/wtfjs/#_8", 
            "text": "\u6570\u7ec4\u76f8\u7b49\u662fJS\u4e2d\u7684\u602a\u7269\uff0c\u5982\u4e0b\u6240\u793a\uff1a  []   ==       // -  true  []   ==   0      // -  true  [ ]   ==     // -  true  [ 0 ]   ==   0     // -  true  [ 0 ]   ==      // -  false  [ ]   ==   0    // -  true  [ null ]   ==          // true  [ null ]   ==   0         // true  [ undefined ]   ==     // true  [ undefined ]   ==   0    // true  [[]]   ==   0    // true  [[]]   ==     // true  [[[[[[]]]]]]   ==     // true  [[[[[[]]]]]]   ==   0    // true  [[[[[[   null   ]]]]]]   ==   0    // true  [[[[[[   null   ]]]]]]   ==     // true  [[[[[[   undefined   ]]]]]]   ==   0    // true  [[[[[[   undefined   ]]]]]]   ==     // true   \ud83d\udca1 \u8bf4\u660e \u4f60\u5e94\u8be5\u4ed4\u7ec6\u89c2\u5bdf\u4e0a\u9762\u7684\u4f8b\u5b50\uff01\n\u8be5\u89c4\u8303\u7684  7.2.13   Abstract Equality Comparison \u90e8\u200b\u200b\u5206\u63cf\u8ff0\u4e86\u8be5\u884c\u4e3a\u3002", 
            "title": "\u6570\u7ec4\u76f8\u7b49\u662f\u4e00\u4e2a\u602a\u7269"
        }, 
        {
            "location": "/wtfjs/#undefined-number", 
            "text": "\u5982\u679c\u6211\u4eec\u4e0d\u5c06\u4efb\u4f55\u53c2\u6570\u4f20\u9012\u7ed9 Number \u6784\u9020\u51fd\u6570\uff0c\u6211\u4eec\u5c31\u4f1a\u5f97\u5230 0 \u3002\n\u5f53\u6ca1\u6709\u5b9e\u9645\u53c2\u6570\u65f6 undefined \u88ab\u8d4b\u503c\u7ed9\u5f62\u5f0f\u53c2\u6570, \u6240\u4ee5\u4f60\u53ef\u80fd\u671f\u671b\u6ca1\u6709\u53c2\u6570\u7684 Number \u5c06 undefined \u4f5c\u4e3a\u5176\u53c2\u6570\u7684\u503c\u3002\n\u4f46\u662f\uff0c\u5f53\u6211\u4eec\u4f20\u9012 undefined \u65f6\uff0c\u6211\u4eec\u4f1a\u5f97\u5230 NaN \u3002  Number ()            // -  0  Number ( undefined )   // -  NaN   \ud83d\udca1 \u8bf4\u660e \u6839\u636e\u5177\u4f53\u60c5\u51b5: \u5982\u679c\u6ca1\u6709\u53c2\u6570\u4f20\u9012\u7ed9\u8fd9\u4e2a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u8ba9 n \u4e3a + 0 \u3002 \u5426\u5219\uff0c\u8ba9 n \u6210\u4e3a ?  ToNumber(value) \u3002 undefined \u7684\u60c5\u51b5\u4e0b,  ToNumber(undefined) \u5e94\u8be5\u8fd4\u56de NaN . \u8fd9\u662f\u76f8\u5e94\u7684\u90e8\u5206: 20.1.1  \u6570\u5b57\u6784\u9020\u5668 7.1.3  ToNumber( argument )", 
            "title": "undefined \u548c Number"
        }, 
        {
            "location": "/wtfjs/#parseint", 
            "text": "parseInt \u4ee5\u5176\u602a\u7656\u95fb\u540d\u4e8e\u4e16:  parseInt ( f*ck );       // -  NaN  parseInt ( f*ck ,   16 );   // -  15   \ud83d\udca1 \u8bf4\u660e \u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a parseInt \u5c06\u7ee7\u7eed\u9010\u4e2a\u5b57\u7b26\u5730\u89e3\u6790\uff0c\u76f4\u5230\u9047\u5230\u4e00\u4e2a\u4e0d\u77e5\u9053\u7684\u5b57\u7b26\u3002 f * ck \u4e2d\u7684 f \u662f\u5341\u516d\u8fdb\u5236\u6570\u5b57 15 \u3002 \u89e3\u6790 Infinity \u4e3a\u6574\u6570\u662f...  //  parseInt ( Infinity ,   10 )   // -  NaN  // ...  parseInt ( Infinity ,   18 )   // -  NaN...  parseInt ( Infinity ,   19 )   // -  18  // ...  parseInt ( Infinity ,   23 )   // -  18...  parseInt ( Infinity ,   24 )   // -  151176378  // ...  parseInt ( Infinity ,   29 )   // -  385849803  parseInt ( Infinity ,   30 )   // -  13693557269  // ...  parseInt ( Infinity ,   34 )   // -  28872273981  parseInt ( Infinity ,   35 )   // -  1201203301724  parseInt ( Infinity ,   36 )   // -  1461559270678...  parseInt ( Infinity ,   37 )   // -  NaN   \u89e3\u6790 null \u4e5f\u8981\u5c0f\u5fc3\uff1a  parseInt ( null ,   24 )   // -  23   \ud83d\udca1 \u8bf4\u660e \u5b83\u5c06 null \u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 \"null\" \u5e76\u5c1d\u8bd5\u8f6c\u6362\u5b83\u3002\u5bf9\u4e8e\u57fa\u65700\u523023\uff0c\u6ca1\u6709\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u5b57\uff0c\u6240\u4ee5\u5b83\u8fd4\u56deNaN\u3002\u572824\uff0c \"n\" \uff0c\u7b2c14\u4e2a\u5b57\u6bcd\uff0c\u88ab\u6dfb\u52a0\u5230\u6570\u5b57\u7cfb\u7edf\u4e2d\u3002\u572831\uff0c\u6dfb\u52a0\u7b2c21\u4e2a\u5b57\u6bcd \"u\" \uff0c\u5e76\u4e14\u53ef\u4ee5\u89e3\u7801\u6574\u4e2a\u5b57\u7b26\u4e32\u3002\u572837\u65f6\uff0c\u4e0d\u518d\u6709\u4efb\u4f55\u53ef\u4ee5\u751f\u6210\u7684\u6709\u6548\u6570\u5b57\u96c6\u5e76\u8fd4\u56de NaN \u3002   \u201cparseInt(null, 24) === 23\u2026 wait, what?\u201d  at StackOverflow \u4e0d\u8981\u5fd8\u8bb0\u516b\u5206\u4e4b\u4e00:  parseInt ( 06 );   // 6  parseInt ( 08 );   // 8 if support ECMAScript 5  parseInt ( 08 );   // 0 if not support ECMAScript 5   \ud83d\udca1 \u8bf4\u660e \u5982\u679c\u8f93\u5165\u5b57\u7b26\u4e32\u4ee5\"0\"\u5f00\u5934\uff0c\u5219\u57fa\u6570\u4e3a\u516b\uff08\u516b\u8fdb\u5236\uff09\u6216\u5341\uff08\u5341\u8fdb\u5236\uff09\u3002\n\u7a76\u7adf\u9009\u62e9\u54ea\u4e2a\u57fa\u6570\u662f\u4f9d\u8d56\u4e8e\u5b9e\u73b0\u7684\u3002\nECMAScript 5\u6307\u5b9a\u4f7f\u752810\uff08\u5341\u8fdb\u5236\uff09\uff0c\u4f46\u5e76\u975e\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u6b64\u529f\u80fd\u3002\n\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u5f53\u4f7f\u7528 parseInt \u65f6\u603b\u662f\u6307\u5b9a\u4e00\u4e2a\u57fa\u6570\u3002 parseInt \u603b\u662f\u5c06\u200b\u200b\u8f93\u5165\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff1a parseInt ({   toString :   ()   =   2 ,   valueOf :   ()   =   1   })   // -  2  Number ({   toString :   ()   =   2 ,   valueOf :   ()   =   1   })     // -  1", 
            "title": "parseInt\u662f\u4e2a\u574f\u4eba"
        }, 
        {
            "location": "/wtfjs/#truefalse", 
            "text": "\u8ba9\u6211\u4eec\u6765\u505a\u4e00\u4e9b\u6570\u5b66\uff1a  true   +   true   // -  2  ( true   +   true )   *   ( true   +   true )   -   true   // -  3   Hmmm\u2026 \ud83e\udd14  \ud83d\udca1 \u8bf4\u660e We can coerce values to numbers with the  Number  constructor.\nIt's quite obvious that  true  will be coerced to  1 : Number ( true )   // -  1   The unary plus operator attempts to convert its value into a number.\nIt can convert string representations of integers and floats, as well as the non-string values  true ,  false , and  null .\nIf it cannot parse a particular value, it will evaluate to  NaN .\nThat means we can coerce  true  to  1  easier: + true   // -  1   When you're performing addition or multiplication, the  ToNumber  method is invoked.\nAccording to the specification, this method returns: If  argument  is  true , return  1 .\nIf  argument  is  false , return  +0 . That's why we can add boolean values as regular numbers and get correct results. Corresponding sections: 12.5.6  Unary  +  Operator 12.8.3  The Addition Operator ( + ) 7.1.3  ToNumber( argument )", 
            "title": "\u6570\u5b66\u7528true\u548cfalse"
        }, 
        {
            "location": "/wtfjs/#htmljavascript", 
            "text": "\u60a8\u4f1a\u7559\u4e0b\u6df1\u523b\u7684\u5370\u8c61\uff0c\u4f46 !-- \uff08\u8fd9\u88ab\u79f0\u4e3aHTML\u6ce8\u91ca\uff09\u662fJavaScript\u4e2d\u7684\u6709\u6548\u6ce8\u91ca\u3002  // valid comment  !--   valid   comment   too   \ud83d\udca1 \u8bf4\u660e \u5370\u8c61\u6df1\u523b\uff1f,\u7c7b\u4f3cHTML\u7684\u6ce8\u91ca\u65e8\u5728\u5141\u8bb8\u4e0d\u7406\u89e3 script \u6807\u7b7e\u7684\u6d4f\u89c8\u5668\u4f18\u96c5\u5730\u964d\u7ea7\u3002\n\u8fd9\u4e9b\u6d4f\u89c8\u5668\uff0c\u4f8b\u5982,Netscape 1.x\u4e0d\u518d\u53d7\u6b22\u8fce\u3002\n\u56e0\u6b64\uff0c\u5c06HTML\u6ce8\u91ca\u653e\u5165\u811a\u672c\u6807\u8bb0\u4e2d\u5b9e\u5728\u6ca1\u6709\u610f\u4e49\u3002 \u7531\u4e8eNode.js\u57fa\u4e8eV8\u5f15\u64ce\uff0c\u56e0\u6b64Node.js\u8fd0\u884c\u65f6\u4e5f\u652f\u6301\u7c7b\u4f3cHTML\u7684\u6ce8\u91ca\u3002\n\u800c\u4e14\uff0c\u5b83\u4eec\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\uff1a B.1.3  \u7c7b\u4f3cHTML\u7684\u8bc4\u8bba", 
            "title": "HTML\u6ce8\u91ca\u5728JavaScript\u4e2d\u6709\u6548"
        }, 
        {
            "location": "/wtfjs/#nan", 
            "text": "NaN \u7684\u7c7b\u578b\u662f 'number' \uff1a  typeof   NaN              // -   number   \ud83d\udca1 \u8bf4\u660e typeof  and  instanceof \u64cd\u4f5c\u7b26\u7684\u89e3\u91ca\uff1a 12.5.5   typeof \u8fd0\u7b97\u7b26 12.10.4  \u8fd0\u884c\u65f6\u8bed\u4e49: InstanceofOperator( O , C )", 
            "title": "NaN~~\u4e0d\u662f~~\u4e00\u4e2a\u6570\u5b57"
        }, 
        {
            "location": "/wtfjs/#null", 
            "text": "typeof   []     // -   object  typeof   null   // -   object  // \u7136\u800c  null   instanceof   Object   // false   \ud83d\udca1 \u8bf4\u660e The behavior of  typeof  operator is defined in this section of the specification: 12.5.5  The  typeof  Operator According to the specification, the  typeof  operator returns a string according to  Table 35:  typeof  Operator Results .\nFor  null , ordinary, standard exotic and non-standard exotic objects, which do not implement  [[Call]] , it returns the string  \"object\" . However, you can check the type of an object by using the  toString  method. Object . prototype . toString . call ([])  // -   [object Array]  Object . prototype . toString . call ( new   Date )  // -   [object Date]  Object . prototype . toString . call ( null )  // -   [object Null]", 
            "title": "[]\u548cnull\u662f\u5bf9\u8c61"
        }, 
        {
            "location": "/wtfjs/#_9", 
            "text": "999999999999999    // -  999999999999999  9999999999999999   // -  10000000000000000  10000000000000000         // -  10000000000000000  10000000000000000   +   1     // -  10000000000000000  10000000000000000   +   1.1   // -  10000000000000002   \ud83d\udca1 \u8bf4\u660e This is caused by IEEE 754-2008 standard for Binary Floating-Point Arithmetic.\nAt this scale, it rounds to the nearest even number.\nRead more: 6.1.6  The Number Type IEEE 754  on Wikipedia", 
            "title": "\u795e\u5947\u5730\u589e\u52a0\u6570\u5b57"
        }, 
        {
            "location": "/wtfjs/#01-02", 
            "text": "A well-known joke.\nAn addition of  0.1  and  0.2  is deadly precise:  0.1   +   0.2   // -  0.30000000000000004  ( 0.1   +   0.2 )   ===   0.3   // -  false   \ud83d\udca1 \u8bf4\u660e The answer for the  \u201dIs floating point math broken?\u201d  question on StackOverflow: The constants  0.2  and  0.3  in your program will also be approximations to their true values.\nIt happens that the closest  double  to  0.2  is larger than the rational number  0.2  but that the closest  double  to  0.3  is smaller than the rational number  0.3 .\nThe sum of  0.1  and  0.2  winds up being larger than the rational number  0.3  and hence disagreeing with the constant in your code. This problem is so known that there is even a website called  0.30000000000000004.com .\nIt occurs in every language that uses floating-point math, not just JavaScript.", 
            "title": "0.1 + 0.2\u7684\u7cbe\u5ea6"
        }, 
        {
            "location": "/wtfjs/#_10", 
            "text": "\u60a8\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5df1\u7684\u65b9\u6cd5\u6765\u5c01\u88c5\u50cf Number \u6216 String \u8fd9\u6837\u7684\u5bf9\u8c61\u3002  Number . prototype . isOne   =   function   ()   { \n   return   Number ( this )   ===   1  }  1.0 . isOne ()   // -  true  1. . isOne ()    // -  true  2.0 . isOne ()   // -  false  ( 7 ). isOne ()   // -  false   \ud83d\udca1 \u8bf4\u660e \u5f88\u663e\u7136\uff0c\u4f60\u53ef\u4ee5\u50cf\u4f7f\u7528JavaScript\u7684\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\u6269\u5c55 Number \u5bf9\u8c61\u3002\n\u4f46\u662f\uff0c\u5982\u679c\u5b9a\u4e49\u7684\u65b9\u6cd5\u7684\u884c\u4e3a\u4e0d\u662f\u89c4\u8303\u7684\u4e00\u90e8\u5206\uff0c\u5219\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\n\u8fd9\u662f Number \u5c5e\u6027\u7684\u5217\u8868: 20.1  \u6570\u5b57\u5bf9\u8c61", 
            "title": "\u4fee\u8865\u6570\u5b57"
        }, 
        {
            "location": "/wtfjs/#_11", 
            "text": "1     2     3   // -  true  3     2     1   // -  false   \ud83d\udca1 \u8bf4\u660e Why does this work that way? Well, the problem is in the first part of an expression.\nHere's how it works: 1     2     3   // 1   2 -  true  true      3   // true -  1  1         3   // -  true  3     2     1   // 3   2 -  true  true      1   // true -  1  1         1   // -  false   We can fix this with  Greater than or equal operator ( = ) : 3     2   =   1   // true   Read more about Relational operators in the specification: 12.10  Relational Operators", 
            "title": "\u4e09\u4e2a\u6570\u5b57\u7684\u6bd4\u8f83"
        }, 
        {
            "location": "/wtfjs/#_12", 
            "text": "Often the results of arithmetic operations in JavaScript might be quite unexpected.\nConsider these examples:    3    -   1    // -  2 \n  3    +   1    // -  4  3   -   1    // -  2  3   +   1    // -   31    +     // -    []   +   []   // -    {}   +   []   // -  0  []   +   {}   // -   [object Object]  {}   +   {}   // -   [object Object][object Object]  222   -   - 111   // -  333  [ 4 ]   *   [ 4 ]         // -  16  []   *   []           // -  0  [ 4 ,   4 ]   *   [ 4 ,   4 ]   // NaN   \ud83d\udca1 \u8bf4\u660e What's happening in the first four examples? Here's a small table to understand addition in JavaScript: Number  + Number  -  addition\nBoolean + Number  -  addition\nBoolean + Boolean -  addition\nNumber  + String  -  concatenation\nString  + Boolean -  concatenation\nString  + String  -  concatenation  What about other examples? A  ToPrimitive  and  ToString  methods are being implicitly called for  []  and  {}  before addition.\nRead more about evaluation process in the specification: 12.8.3  The Addition Operator ( + ) 7.1.1  ToPrimitive( input  [, PreferredType ]) 7.1.12  ToString( argument )", 
            "title": "\u6709\u8da3\u7684\u6570\u5b66"
        }, 
        {
            "location": "/wtfjs/#regexps", 
            "text": "Did you know you can add numbers like this?  // Patch a toString method  RegExp . prototype . toString   =   function ()   { \n   return   this . source  }  /7/   -   /5/   // -  2   \ud83d\udca1 \u8bf4\u660e  21.2.5.10  get RegExp.prototype.source", 
            "title": "RegExps \u6269\u5c55"
        }, 
        {
            "location": "/wtfjs/#string", 
            "text": "str   // -   str  typeof   str   // -   string  str   instanceof   String   // -  false   \ud83d\udca1 \u8bf4\u660e The  String  constructor returns a string: typeof   String ( str )     // -   string  String ( str )            // -   str  String ( str )   ==   str   // -  true   Let's try with a  new : new   String ( str )   ==   str   // -  true  typeof   new   String ( str )     // -   object   Object? What's that? new   String ( str )   // -  [String:  str ]   More information about the String constructor in the specification: 21.1.1  The String Constructor", 
            "title": "\u5b57\u7b26\u4e32\u4e0d\u662fString\u7684\u5b9e\u4f8b"
        }, 
        {
            "location": "/wtfjs/#_13", 
            "text": "Let's declare a function which logs all params into the console:  function   f (... args )   { \n   return   args  }   No doubt, you know you can call this function like this:  f ( 1 ,   2 ,   3 )   // -  [ 1, 2, 3 ]   But did you know you can call any function with backticks?  f `true is  ${ true } , false is  ${ false } , array is  ${ [ 1 , 2 , 3 ] } `  // -  [ [  true is  ,  , false is  ,  , array is  ,   ],  // -    true,  // -    false,  // -    [ 1, 2, 3 ] ]   \ud83d\udca1 \u8bf4\u660e Well, this is not magic at all if you're familiar with  Tagged template literals .\nIn the example above,  f  function is a tag for template literal.\nTags before template literal allow you to parse template literals with a function.\nThe first argument of a tag function contains an array of string values.\nThe remaining arguments are related to the expressions.\n\u4f8b: function   template ( strings ,   ... keys )   { \n   // do something with strings and keys\u2026  }   This is the  magic behind  famous library called  \ud83d\udc85 styled-components , which is popular in the React community. Link to the specification: 12.3.7  Tagged Templates", 
            "title": "\u7528\u53cd\u5f15\u53f7\u8c03\u7528\u51fd\u6570"
        }, 
        {
            "location": "/wtfjs/#call-call-call", 
            "text": "Found by  @cramforce   console . log . call . call . call . call . call . apply ( a   =   a ,   [ 1 ,   2 ])   \ud83d\udca1 \u8bf4\u660e Attention, it could break your mind! Try to reproduce this code in your head: we're applying the  call  method using the  apply  method.\nRead more: 19.2.3.3  Function.prototype.call( thisArg , ... args ) 19.2.3.1   Function.prototype.apply( thisArg ,  argArray )", 
            "title": "Call call call"
        }, 
        {
            "location": "/wtfjs/#constructor", 
            "text": "const   c   =   constructor  c [ c ][ c ]( console.log( WTF? ) )()   //   WTF?   \ud83d\udca1 \u8bf4\u660e Let's \u8003\u8651\u8fd9\u4e00\u70b9 example step-by-step: // Declare a new constant which is a string  constructor  const   c   =   constructor  // c is a string  c   // -   constructor  // Getting a constructor of string  c [ c ]   // -  [Function: String]  // Getting a constructor of constructor  c [ c ][ c ]   // -  [Function: Function]  // Call the Function constructor and pass  // the body of new function as an argument  c [ c ][ c ]( console.log( WTF? ) )   // -  [Function: anonymous]  // And then call this anonymous function  // The result is console-logging a string  WTF?  c [ c ][ c ]( console.log( WTF? ) )()   //   WTF?   An  Object.prototype.constructor  returns a reference to the  Object  constructor function that created the instance object.\nIn case with strings it is  String , in case with numbers it is  Number  and so on. Object.prototype.constructor  at MDN 19.1.3.1  Object.prototype.constructor", 
            "title": "constructor\u5c5e\u6027"
        }, 
        {
            "location": "/wtfjs/#_14", 
            "text": "{   [{}] :   {}   }   // -  {  [object Object] : {} }   \ud83d\udca1 \u8bf4\u660e Why does this work so? Here we're using a  Computed property name .\nWhen you pass an object between those brackets, it coerces object to a string, so we get the property key  '[object Object]'  and the value  {} . We can make \"brackets hell\" like this: ({[{}] : {[{}] : {}}})[{}][{}]   // -  {}  // structure:  // {  //    [object Object] : {  //      [object Object] : {}  //   }  // }   \u5728\u8fd9\u91cc\u9605\u8bfb\u66f4\u591a\u5173\u4e8e\u5bf9\u8c61\u6587\u5b57: Object initializer  at MDN 12.2.6  Object Initializer", 
            "title": "\u5bf9\u8c61\u4f5c\u4e3a\u5bf9\u8c61\u5c5e\u6027\u7684\u952e"
        }, 
        {
            "location": "/wtfjs/#__proto__", 
            "text": "As we know, primitives don't have prototypes.\nHowever, if we try to get a value of  __proto__  for primitives, we would get this:  ( 1 ). __proto__ . __proto__ . __proto__   // -  null   \ud83d\udca1 \u8bf4\u660e This happens because when something doesn't have a prototype, it will be wrapped into a wrapper object using the  ToObject  method.\nSo, step-by-step: ( 1 ). __proto__   // -  [Number: 0]  ( 1 ). __proto__ . __proto__   // -  {}  ( 1 ). __proto__ . __proto__ . __proto__   // -  null   Here is more information about  __proto__ : B.2.2.1  Object.prototype. proto 7.1.13  ToObject( argument )", 
            "title": "\u4f7f\u7528__proto__\u8bbf\u95ee\u539f\u578b"
        }, 
        {
            "location": "/wtfjs/#object", 
            "text": "What is the result of the expression below?  ` ${ { Object } }`   The answer is:  // -   [object Object]   \ud83d\udca1 \u8bf4\u660e We defined an object with a property  Object  using  Shorthand property notation : {   Object :   Object   }   Then we've passed this object to the template literal, so the  toString  method calls for that object.\nThat's why we get the string  '[object Object]' . 12.2.9  Template Literals Object initializer  at MDN", 
            "title": "`${{Object}}`"
        }, 
        {
            "location": "/wtfjs/#_15", 
            "text": "\u8003\u8651\u8fd9\u4e2a\u4f8b\u5b50:  let   x ,   {   x :   y   =   1   }   =   {   x   };   y ;   \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u9762\u8bd5\u7684\u4e00\u9879\u91cd\u8981\u4efb\u52a1\u3002 y \u7684\u503c\u662f\u4ec0\u4e48\uff1f,\u7b54\u6848\u662f\uff1a  // -  1   \ud83d\udca1 \u8bf4\u660e let   x ,   {   x :   y   =   1   }   =   {   x   };   y ;  //  \u2191       \u2191           \u2191    \u2191  //  1       3           2    4   \u7528\u4e0a\u9762\u7684\u4f8b\u5b50: \u6211\u4eec\u58f0\u660e x \u6ca1\u6709\u503c\uff0c\u6240\u4ee5\u5b83\u662f undefined \u3002 \u7136\u540e\u6211\u4eec\u5c06 x \u7684\u503c\u6253\u5305\u5230\u5bf9\u8c61\u5c5e\u6027 x \u4e2d\u3002 \u7136\u540e\u6211\u4eec\u4f7f\u7528\u89e3\u6784\u6765\u63d0\u53d6 x \u7684\u503c\uff0c\u5e76\u4e14\u60f3\u628a\u5b83\u8d4b\u503c\u7ed9 y \u3002 \u5982\u679c\u8be5\u503c\u6ca1\u6709\u5b9a\u4e49\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u4f7f\u7528 1 \u4f5c\u4e3a\u9ed8\u8ba4\u503c\u3002 \u8fd4\u56de y \u7684\u503c\u3002 MDN \u5bf9\u8c61\u521d\u59cb\u5316\u5668", 
            "title": "\u7528\u9ed8\u8ba4\u503c\u89e3\u6784"
        }, 
        {
            "location": "/wtfjs/#_16", 
            "text": "\u6709\u8da3\u7684\u4f8b\u5b50\u53ef\u4ee5\u7528\u6570\u7ec4\u7684\u6269\u5c55\u6765\u7ec4\u6210\u3002\u8003\u8651\u8fd9\u4e00\u70b9:  [...[... ... ]]. length   // -  3   \ud83d\udca1 \u8bf4\u660e Why  3 ? When we use the  spread operator , the  @@iterator  method is called, and the returned iterator is used to obtain the values to be iterated.\nThe default iterator for string spreads a string into characters.\nAfter spreading, we pack these characters into an array.\nThen we spread this array again and pack it back to an array. A  '...'  string consists with three  .  characters, so the length of resulting array is  3 . Now, step-by-step: [... ... ]               // -  [  . ,  . ,  .  ]  [...[... ... ]]          // -  [  . ,  . ,  .  ]  [...[... ... ]]. length   // -  3   Obviously, we can spread and wrap the elements of an array as many times as we want: [... ... ]                   // -  [  . ,  . ,  .  ]  [...[... ... ]]              // -  [  . ,  . ,  .  ]  [...[...[... ... ]]]         // -  [  . ,  . ,  .  ]  [...[...[...[... ... ]]]]    // -  [  . ,  . ,  .  ]  // and so on \u2026", 
            "title": "\u70b9\u548c\u6269\u5c55"
        }, 
        {
            "location": "/wtfjs/#_17", 
            "text": "\u6ca1\u6709\u591a\u5c11\u7a0b\u5e8f\u5458\u77e5\u9053JavaScript\u4e2d\u7684\u6807\u7b7e\u3002\u4ed6\u4eec\u5f88\u6709\u8da3\uff1a  foo :   { \n   console . log ( first ); \n   break   foo ; \n   console . log ( second );  }  //   first  // -  undefined   \ud83d\udca1 \u8bf4\u660e \u5e26\u6807\u7b7e\u7684\u8bed\u53e5\u4e0e break \u6216 continue \u8bed\u53e5\u4e00\u8d77\u4f7f\u7528\u3002\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u6807\u7b7e\u6765\u6807\u8bc6\u5faa\u73af\uff0c\u7136\u540e\u4f7f\u7528 break \u6216 continue \u8bed\u53e5\u6765\u6307\u793a\u7a0b\u5e8f\u662f\u5426\u5e94\u8be5\u4e2d\u65ad\u5faa\u73af\u6216\u7ee7\u7eed\u6267\u884c\u3002 \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u6807\u8bc6\u4e86\u4e00\u4e2a\u6807\u7b7e foo \u3002\n\u4e4b\u540e console.log('first'); \u6267\u884c\uff0c\u7136\u540e\u6211\u4eec\u4e2d\u65ad\u6267\u884c\u3002 \u9605\u8bfb\u5173\u4e8eJavaScript\u4e2d\u6807\u7b7e\u7684\u66f4\u591a\u4fe1\u606f\uff1a 13.13  \u6807\u8bb0\u8bed\u53e5 \u6807\u8bb0\u8bed\u53e5  at MDN", 
            "title": "\u6807\u7b7e"
        }, 
        {
            "location": "/wtfjs/#_18", 
            "text": "a :   b :   c :   d :   e :   f :   g :   1 ,   2 ,   3 ,   4 ,   5 ;   // -  5   \ud83d\udca1 \u8bf4\u660e \u4e0e\u4ee5\u524d\u7684\u4f8b\u5b50\u7c7b\u4f3c\uff0c\u8bf7\u6309\u7167\u8fd9\u4e9b\u94fe\u63a5: 12.16  \u9017\u53f7\u8fd0\u7b97\u7b26 ( , ) 13.13  \u6807\u8bb0\u8bed\u53e5 \u6807\u8bb0\u8bed\u53e5  at MDN", 
            "title": "\u5d4c\u5957\u6807\u7b7e"
        }, 
        {
            "location": "/wtfjs/#trycatch", 
            "text": "\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u4f1a\u8fd4\u56de\u4ec0\u4e48\uff1f?  2  \u6216\u8005  3 ?  (()   =   { \n   try   { \n     return   2 ; \n   }   finally   { \n     return   3 ; \n   }  })()   \u7b54\u6848\u662f  3 .\n\u8be7\u5f02?  \ud83d\udca1 \u8bf4\u660e 13.15   try  \u58f0\u660e", 
            "title": "\u9634\u9669 try..catch"
        }, 
        {
            "location": "/wtfjs/#_19", 
            "text": "\u770b\u770b\u4e0b\u9762\u7684\u4f8b\u5b50:  new   ( class   F   extends   ( String ,   Array )   {   })   // -  F []   \u8fd9\u662f\u4e00\u4e2a\u591a\u91cd\u7ee7\u627f? \u4e0d.  \ud83d\udca1 \u8bf4\u660e The interesting part is the value of the  extends  clause ( (String, Array) ).\nThe grouping operator always returns its last argument, so  (String, Array)  is actually just  Array .\nThat means we've just created a class which extends  Array . 14.5  Class Definitions 12.16  Comma Operator ( , )", 
            "title": "\u8fd9\u662f\u591a\u91cd\u7ee7\u627f?"
        }, 
        {
            "location": "/wtfjs/#a-generator-which-yields-itself", 
            "text": "\u8003\u8651\u8fd9\u4e00\u70b9 example of a generator which yields itself:  ( function *   f ()   {   yield   f   })(). next ()  // -  { value: [GeneratorFunction: f], done: false }   As you can see, the returned value is an object with its  value  equal to  f .\nIn that case, we can do something like this:  ( function *   f ()   {   yield   f   })(). next (). value (). next ()  // -  { value: [GeneratorFunction: f], done: false }  // and again  ( function *   f ()   {   yield   f   })(). next (). value (). next (). value (). next ()  // -  { value: [GeneratorFunction: f], done: false }  // and again  ( function *   f ()   {   yield   f   })(). next (). value (). next (). value (). next (). value (). next ()  // -  { value: [GeneratorFunction: f], done: false }  // and so on  // \u2026   \ud83d\udca1 \u8bf4\u660e \u8981\u7406\u89e3\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5de5\u4f5c\uff0c\u8bf7\u9605\u8bfb\u89c4\u8303\u7684\u8fd9\u4e9b\u90e8\u5206: 25  \u63a7\u5236\u62bd\u8c61\u5bf9\u8c61 25.3  \u751f\u6210\u5668\u5bf9\u8c61", 
            "title": "A generator which yields itself"
        }, 
        {
            "location": "/wtfjs/#a-class-of-class", 
            "text": "\u8003\u8651\u8fd9\u79cd\u6df7\u6dc6\u7684\u8bed\u6cd5\u64ad\u653e:  ( typeof   ( new   ( class   {   class   ()   {}   })))   // -   object   It seems like we're declaring a class inside of class.\nShould be an error, however, we get the string  'object' .  \ud83d\udca1 \u8bf4\u660e Since ECMAScript 5 era,  keywords  are allowed as  property names .\nSo think about it as this simple object \u4f8b: const   foo   =   { \n   class :   function ()   {}  };   And ES6 standardized shorthand method definitions.\nAlso, classes can be anonymous.\nSo if we drop  : function  part, we're going to get: class   { \n   class ()   {}  }   The result of a default class is always a simple object.\nAnd its typeof should return  'object' . Read more here: 14.3  Method Definitions 14.5  Class Definitions", 
            "title": "A class of class"
        }, 
        {
            "location": "/wtfjs/#non-coercible-objects", 
            "text": "With well-known symbols, there's a way to get rid of type coercion.\nTake a look:  function   nonCoercible ( val )   { \n   if   ( val   ==   null )   { \n     throw   TypeError ( nonCoercible should not be called with null or undefined ) \n   } \n\n   const   res   =   Object ( val ) \n\n   res [ Symbol . toPrimitive ]   =   ()   =   { \n     throw   TypeError ( Trying to coerce non-coercible object ) \n   } \n\n   return   res  }   Now we can use this like this:  // objects  const   foo   =   nonCoercible ({ foo :   foo })  foo   *   10        // -  TypeError: Trying to coerce non-coercible object  foo   +   evil    // -  TypeError: Trying to coerce non-coercible object  // strings  const   bar   =   nonCoercible ( bar )  bar   +   1                   // -  TypeError: Trying to coerce non-coercible object  bar . toString ()   +   1          // -  bar1  bar   ===   bar               // -  false  bar . toString ()   ===   bar    // -  true  bar   ==   bar                // -  TypeError: Trying to coerce non-coercible object  // numbers  const   baz   =   nonCoercible ( 1 )  baz   ==   1               // -  TypeError: Trying to coerce non-coercible object  baz   ===   1              // -  false  baz . valueOf ()   ===   1    // -  true   \ud83d\udca1 \u8bf4\u660e A gist by Sergey Rubanov 6.1.5.1  Well-Known Symbols", 
            "title": "Non-coercible objects"
        }, 
        {
            "location": "/wtfjs/#_20", 
            "text": "\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50:  let   f   =   ()   =   10  f ()   // -  10   \u597d\uff0c\u5f88\u597d\uff0c\u4f46\u662f\u8fd9\u4e2a\u600e\u4e48\u6837\uff1f:  let   f   =   ()   =   {}  f ()   // -  undefined   \ud83d\udca1 \u8bf4\u660e You might expect  {}  instead of  undefined .\nThis is because the curly braces are part of the syntax of the arrow functions, so  f  will return undefined.\nIt is however possible to return the  {}  object directly from an arrow function, by enclosing the return value with brackets. let   f   =   ()   =   ({})  f ()   // -  {}", 
            "title": "\u68d8\u624b\u7684\u7bad\u5934\u529f\u80fd"
        }, 
        {
            "location": "/wtfjs/#arguments", 
            "text": "\u8003\u8651\u4e0b\u9762\u7684\u4f8b\u5b50:  let   f   =   function (){ \n   return   arguments ;  }  f ( a );   // -  {  0 :  a  }   \u73b0\u5728\uff0c\u5c1d\u8bd5\u7528\u7bad\u5934\u51fd\u6570\u505a\u540c\u6837\u7684\u4e8b\u60c5:  let   f   =   ()   =    arguments ;  f ( a );   // -  Uncaught ReferenceError: arguments is not defined   \ud83d\udca1 \u8bf4\u660e Arrow functions are a lightweight version of regular functions with a focus on being short and lexical  this .\nAt the same time arrow functions do not provide a binding for the  arguments  object.\nAs a valid alternative use the  rest parameters  to achieve the same result: let   f   =   (... args )   =   args ;  f ( a );   Arrow functions  at MDN.", 
            "title": "arguments\u548c\u7bad\u5934\u529f\u80fd"
        }, 
        {
            "location": "/wtfjs/#return", 
            "text": "return \u8bed\u53e5\u4e5f\u5f88\u68d8\u624b.\u8003\u8651\u8fd9\u4e00\u70b9:  ( function   ()   { \n   return \n   { \n     b   :   10 \n   }  })()   // -  undefined   \ud83d\udca1 \u8bf4\u660e return  and the returned expression must be in the same line: ( function   ()   { \n   return   { \n     b   :   10 \n   }  })()   // -  { b: 10 }   This is because of a concept called Automatic Semicolon Insertion, which automagically inserts semicolons after most newlines.\nIn the first example, there is a semicolon inserted between the  return  statement and the object literal, so the function returns  undefined  and the object literal is never evaluated. 11.9.1  Rules of Automatic Semicolon Insertion 13.10  The  return  Statement", 
            "title": "\u68d8\u624b\u7684return"
        }, 
        {
            "location": "/wtfjs/#_21", 
            "text": "var   obj   =   {   property :   1   }  var   array   =   [ property ]  obj [ array ]   // -  1   \u4f2a\u591a\u7ef4\u6570\u7ec4\u5462\uff1f  var   map   =   {}  var   x   =   1  var   y   =   2  var   z   =   3  map [[ x ,   y ,   z ]]   =   true  map [[ x   +   10 ,   y ,   z ]]   =   true  map [ 1,2,3 ]    // -  true  map [ 11,2,3 ]   // -  true   \ud83d\udca1 \u8bf4\u660e The brackets  []  operator converts the passed expression using  toString .\nConverting a one-element array to a string is akin to converting the contained element to the string: [ property ]. toString ()   // -   property", 
            "title": "\u4f7f\u7528\u6570\u7ec4\u8bbf\u95ee\u5bf9\u8c61\u5c5e\u6027"
        }, 
        {
            "location": "/wtfjs/#_22", 
            "text": "null     0 ;    // false  null   ==   0 ;   // false  null   =   0 ;   // true   \ud83d\udca1 \u8bf4\u660e Long story short, if  null  is less than  0  is  false , then  null  = 0  is  true .\nRead in-depth explanation for this  here .", 
            "title": "\u7a7a\u548c\u5173\u7cfb\u8fd0\u7b97\u7b26"
        }, 
        {
            "location": "/wtfjs/#numbertofixed", 
            "text": "Number.toFixed()  can behave a bit strange in different browsers.\nCheck out this \u4f8b:  0.7875 . toFixed ( 3 ) \n     // Firefox: -  0.787 \n     // Chrome: -  0.787 \n     // IE11: -  0.788  0.7876 . toFixed ( 3 ) \n     // Firefox: -  0.788 \n     // Chrome: -  0.788 \n     // IE11: -  0.788   \ud83d\udca1 \u8bf4\u660e While your first instinct may be that IE11 is correct and Firefox/Chrome are wrong, the reality is that Firefox/Chrome are more directly obeying standards for numbers (IEEE-754 Floating Point), while IE11 is minutely disobeying them in (what is probably) an effort to give clearer results. You can see why this occurs with a few quick tests: // Confirm the odd result of rounding a 5 down  0.7875 . toFixed ( 3 )   // -  0.787  // It looks like it s just a 5 when you expand to the  // limits of 64-bit (double-precision) float accuracy  0.7875 . toFixed ( 14 )   // -  0.78750000000000  // But what if you go beyond the limit?  0.7875 . toFixed ( 20 )   // -  0.78749999999999997780   Floating point numbers are not stored as a list of decimal digits internally, but through a more complicated methodology that produces tiny inaccuracies that are usually rounded away by toString and similar calls, but are actually present internally. In this case, that \"5\" on the end was actually an extremely tiny fraction below a true 5.\nRounding it at any reasonable length will render it as a 5...\nbut it is actually not a 5 internally. IE11, however, will report the value input with only zeros appended to the end even in the toFixed(20) case, as it seems to be forcibly rounding the value to reduce the troubles from hardware limits. See for reference  NOTE 2  on the ECMA-262 definition for  toFixed . 20.1.3.3  Number.prototype.toFixed ( fractionDigits )", 
            "title": "Number.toFixed() \u663e\u793a\u4e0d\u540c\u7684\u6570\u5b57"
        }, 
        {
            "location": "/wtfjs/#mathmax-mathmin", 
            "text": "Math . min ( 1 , 4 , 7 , 2 )    // -  1  Math . max ( 1 , 4 , 7 , 2 )   // -  7  Math . min ()   // -  Infinity  Math . max ()   // -  -Infinity  Math . min ()     Math . max ()   // -  true   \ud83d\udca1 \u8bf4\u660e Why is Math.max() less than Math.min()?  by Charlie Harvey", 
            "title": "Math.max() \u5c11\u4e8e Math.min()"
        }, 
        {
            "location": "/wtfjs/#null-0", 
            "text": "The following expressions seem to introduce a contradiction:  null   ==   0   // -  false  null      0   // -  false  null   =   0   // -  true   How can  null  be neither equal to nor greater than  0 , if  null  = 0  is actually  true ? (This also works with less than in the same way.)  \ud83d\udca1 \u8bf4\u660e The way these three expressions are evaluated are all different and are responsible for producing this unexpected behavior. First, the abstract equality comparison  null == 0 .\nNormally, if this operator can't compare the values on either side properly, it converts both to numbers and compares the numbers.\nThen, you might expect the following behavior: // This is not what happens  null   ==   0  + null   ==   + 0  0   ==   0  true   However, according to a close reading of the spec, the number conversion doesn't actually happen on a side that is  null  or  undefined .\nTherefore, if you have  null  on one side of the equal sign, the other side must be  null  or  undefined  for the expression to return  true .\nSince this is not the case,  false  is returned. Next, the relational comparison  null   0 .\nThe algorithm here, unlike that of the abstract equality operator,  will  convert  null  to a number.\nTherefore, we get this behavior: null     0  + null   =   + 0  0     0  false   Finally, the relational comparison  null  = 0 .\nYou could argue that this expression should be the result of  null   0 || null == 0 ; if this were the case, then the above results would mean that this would also be  false .\nHowever, the  =  operator in fact works in a very different way, which is basically to take the opposite of the   operator.\nBecause our example with the greater than operator above also holds for the less than operator, that means this expression is actually evaluated like so: null   =   0  ! ( null     0 )  ! ( + null     + 0 )  ! ( 0     0 )  ! ( false )  true   7.2.12  Abstract Relational Comparison 7.2.13  Abstract Equality Comparison", 
            "title": "\u6bd4\u8f83 null \u548c 0"
        }, 
        {
            "location": "/wtfjs/#_23", 
            "text": "JS\u5141\u8bb8\u91cd\u65b0\u58f0\u660e\u53d8\u91cf\uff1a  a ;  a ;  // This is also valid  a ,   a ;   \u4e5f\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u5de5\u4f5c\uff1a  var   a ,   a ,   a ;  var   a ;  var   a ;   \ud83d\udca1 \u8bf4\u660e \u6240\u6709\u7684\u8fa9\u62a4\u5408\u5e76\u4e3a\u4e00\u4e2a\u5b9a\u4e49\u3002 13.3.2  \u53ef\u53d8\u8bed\u53e5", 
            "title": "\u540c\u6837\u7684\u53ef\u53d8\u91cd\u65b0\u58f0\u660e"
        }
    ]
}